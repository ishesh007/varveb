<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varnika Jewellers - Premium Gold & Silver Jewelry</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Main background colors - Controls the overall page appearance */
            --color-bg-main: #ffffff; /* Primary page background - Used in: body background, main website background for light theme */
            --color-bg-secondary: #f8fffe; /* Secondary sections and cards - Used in: product cards (.card), feature sections (.features), content areas (.about), admin forms (.admin-form) */
            
            /* Text colors - Controls all text visibility and readability */
            --color-text-main: #2c3e50; /* Default body text - Used in: body text, paragraphs, product descriptions (.product-description), general content, cart item details */
            --color-text-heading: #20b2aa; /* Main headings and titles - Used in: website name (.logo), page titles (.section-title), primary headings (h1, h2), product titles (.product-title), admin panel headings */
            --color-text-subheading: #2c3e50; /* Subheadings and section titles - Used in: section headings (h3, h4), secondary titles, feature titles (.feature-title), category names */
            --color-text-label: #2c3e50; /* Form labels and field names - Used in: input labels, product weight text, product details labels, form field names in admin panel */
            --color-text-placeholder: #95a5a6; /* Placeholder text in inputs - Used in: input field placeholder text, form hints, search box placeholders */
            --color-text-muted: #5a6c7d; /* Secondary info and muted text - Used in: product descriptions, additional info text, testimonial text, less important details, cart item descriptions */
            
            /* Link colors - Controls navigation and clickable elements */
            --color-link: #20b2aa; /* Default link color - Used in: navigation links (.nav-links a), footer links, breadcrumb links, text links within content */
            --color-link-hover: #1a9b94; /* Link hover state - Used in: navigation links on hover (.nav-links a:hover), footer links on hover, any clickable text on hover */
            
            /* Button colors - Controls all interactive buttons throughout the site */
            --color-btn-primary-bg: linear-gradient(135deg, #20b2aa 0%, #1a9b94 100%); /* Primary button background - Used in: "Add to Cart" buttons (.btn-primary), "Update Rates" button, login button, main action buttons */
            --color-btn-primary-text: #ffffff; /* Primary button text - Used in: text color on primary buttons for readability and contrast */
            --color-btn-secondary-bg: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); /* Secondary button background - Used in: "Remove" buttons (.btn-secondary), delete buttons, wishlist remove buttons, cancel buttons */
            --color-btn-secondary-text: #ffffff; /* Secondary button text - Used in: text color on secondary buttons for contrast and visibility */
            
            /* Input field colors - Controls form elements and user input areas */
            --color-input-bg: #ffffff; /* Input field background - Used in: text inputs, select dropdowns (.carat-select), textarea fields, admin form inputs */
            --color-input-text: #2c3e50; /* Input field text - Used in: text color inside input fields, dropdown selections, user-entered content */
            --color-input-border: #e1f5fe; /* Input field border - Used in: border around input fields, form elements, select dropdowns, textarea borders */
            
            /* Border colors - Controls visual separation and element boundaries */
            --color-border: #e1f5fe; /* General border color - Used in: card borders (.card), section dividers, product card borders, admin panel borders, modal borders */
            
            /* Footer colors - Controls bottom page section appearance */
            --color-footer-bg: #2c3e50; /* Footer background - Used in: website footer section background color */
            --color-footer-text: #ecf0f1; /* Footer text - Used in: footer content text, footer information, contact details in footer */
            --color-footer-link: #20b2aa; /* Footer links - Used in: clickable links within footer area, footer navigation links, footer contact links */
            
            /* Theme system colors (existing) */
            --primary-color: #20b2aa;
            --secondary-color: #48d1cc;
            --accent-color: #00ced1;
            --bg-primary: var(--color-bg-main);
            --bg-secondary: var(--color-bg-secondary);
            --text-primary: var(--color-text-main);
            --text-secondary: var(--color-text-muted);
            --border-color: var(--color-border);
            --shadow-light: rgba(32, 178, 170, 0.1);
            --shadow-medium: rgba(32, 178, 170, 0.2);
            --card-bg: var(--color-bg-secondary);
            --navbar-bg: linear-gradient(135deg, #20b2aa 0%, #48d1cc 100%);
        }

        [data-theme="dark"] {
            /* Main background colors - Dark theme page appearance for better night viewing */
            --color-bg-main: #1a1a1a; /* Primary page background - Used in: body background, main website background for comfortable night browsing in dark mode */
            --color-bg-secondary: #2d2d2d; /* Secondary sections and cards - Used in: product cards (.card), feature sections (.features), content areas (.about), admin forms (.admin-form) in dark mode */
            
            /* Text colors - Dark theme text for optimal readability on dark backgrounds */
            --color-text-main: #ecf0f1; /* Default body text - Used in: body text, paragraphs, product descriptions (.product-description), general content, cart item details in dark theme */
            --color-text-heading: #20b2aa; /* Main headings and titles - Used in: website name (.logo), page titles (.section-title), primary headings (h1, h2), product titles (.product-title), admin panel headings in dark theme */
            --color-text-subheading: #ecf0f1; /* Subheadings and section titles - Used in: section headings (h3, h4), secondary titles, feature titles (.feature-title), category names in dark mode */
            --color-text-label: #ecf0f1; /* Form labels and field names - Used in: input labels, product weight text, product details labels, form field names in admin panel in dark theme */
            --color-text-placeholder: #7f8c8d; /* Placeholder text in inputs - Used in: input field placeholder text, form hints, search box placeholders in dark mode */
            --color-text-muted: #a0a0a0; /* Secondary info and muted text - Used in: product descriptions, additional info text, testimonial text, less important details, cart item descriptions in dark theme */
            
            /* Link colors - Dark theme navigation and clickable elements */
            --color-link: #20b2aa; /* Default link color - Used in: navigation links (.nav-links a), footer links, breadcrumb links, text links within content in dark theme */
            --color-link-hover: #1a9b94; /* Link hover state - Used in: navigation links on hover (.nav-links a:hover), footer links on hover, any clickable text on hover in dark mode */
            
            /* Button colors - Dark theme interactive buttons with proper contrast */
            --color-btn-primary-bg: linear-gradient(135deg, #20b2aa 0%, #1a9b94 100%); /* Primary button background - Used in: "Add to Cart" buttons (.btn-primary), "Update Rates" button, login button, main action buttons in dark theme */
            --color-btn-primary-text: #ffffff; /* Primary button text - Used in: text color on primary buttons for maximum contrast and readability in dark theme */
            --color-btn-secondary-bg: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); /* Secondary button background - Used in: "Remove" buttons (.btn-secondary), delete buttons, wishlist remove buttons, cancel buttons in dark theme */
            --color-btn-secondary-text: #ffffff; /* Secondary button text - Used in: text color on secondary buttons for clear visibility and contrast in dark mode */
            
            /* Input field colors - Dark theme form elements with proper contrast */
            --color-input-bg: #2d2d2d; /* Input field background - Used in: text inputs, select dropdowns (.carat-select), textarea fields, admin form inputs in dark theme */
            --color-input-text: #ecf0f1; /* Input field text - Used in: text color inside input fields, dropdown selections, user-entered content in dark theme */
            --color-input-border: #404040; /* Input field border - Used in: border around input fields, form elements, select dropdowns, textarea borders in dark mode */
            
            /* Border colors - Dark theme visual separation with subtle contrast */
            --color-border: #404040; /* General border color - Used in: card borders (.card), section dividers, product card borders, admin panel borders, modal borders in dark theme */
            
            /* Footer colors - Dark theme footer section with consistent styling */
            --color-footer-bg: #1a1a1a; /* Footer background - Used in: website footer section background color matching main background in dark mode */
            --color-footer-text: #ecf0f1; /* Footer text - Used in: footer content text, footer information, contact details in footer in dark theme */
            --color-footer-link: #20b2aa; /* Footer links - Used in: clickable links within footer area, footer navigation links, footer contact links in dark mode */
            
            /* Theme system colors (existing) */
            --primary-color: #20b2aa;
            --secondary-color: #48d1cc;
            --accent-color: #00ced1;
            --bg-primary: var(--color-bg-main);
            --bg-secondary: var(--color-bg-secondary);
            --text-primary: var(--color-text-main);
            --text-secondary: var(--color-text-muted);
            --border-color: var(--color-border);
            --shadow-light: rgba(32, 178, 170, 0.2);
            --shadow-medium: rgba(32, 178, 170, 0.3);
            --card-bg: var(--color-bg-secondary);
            --navbar-bg: linear-gradient(135deg, #1a4a47 0%, #2d5a57 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.18) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(255, 179, 71, 0.10) 0%, transparent 50%);
            z-index: -3;
            pointer-events: none;
            animation: backgroundShift 20s ease-in-out infinite;
        }

        [data-theme="dark"] body::before {
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(255, 179, 71, 0.05) 0%, transparent 50%);
        }

        @keyframes backgroundShift {
            0%, 100% { 
                background: 
                    radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.18) 0%, transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.12) 0%, transparent 50%);
            }
            50% { 
                background: 
                    radial-gradient(circle at 70% 30%, rgba(255, 215, 0, 0.20) 0%, transparent 50%),
                    radial-gradient(circle at 30% 70%, rgba(32, 178, 170, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 60% 60%, rgba(192, 192, 192, 0.18) 0%, transparent 50%);
            }
        }

        [data-theme="dark"] @keyframes backgroundShift {
            0%, 100% { 
                background: 
                    radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.12) 0%, transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.06) 0%, transparent 50%);
            }
            50% { 
                background: 
                    radial-gradient(circle at 70% 30%, rgba(255, 215, 0, 0.12) 0%, transparent 50%),
                    radial-gradient(circle at 30% 70%, rgba(32, 178, 170, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 60% 60%, rgba(192, 192, 192, 0.10) 0%, transparent 50%);
            }
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='jewelry-pattern' x='0' y='0' width='120' height='120' patternUnits='userSpaceOnUse'%3E%3Ccircle cx='20' cy='20' r='2' fill='%23ffd700' fill-opacity='0.18'/%3E%3Ccircle cx='60' cy='60' r='1.5' fill='%2320b2aa' fill-opacity='0.15'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23c0c0c0' fill-opacity='0.12'/%3E%3Cpath d='M40,40 L45,35 L50,40 L45,45 Z' fill='%23ffd700' fill-opacity='0.10'/%3E%3Cpath d='M80,20 L85,15 L90,20 L85,25 Z' fill='%2320b2aa' fill-opacity='0.08'/%3E%3Cpath d='M20,80 L25,75 L30,80 L25,85 Z' fill='%23c0c0c0' fill-opacity='0.06'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23jewelry-pattern)'/%3E%3C/svg%3E");
            z-index: -2;
            pointer-events: none;
            animation: patternFloat 30s linear infinite;
        }

        [data-theme="dark"] body::after {
            background-image: 
                url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='jewelry-pattern' x='0' y='0' width='120' height='120' patternUnits='userSpaceOnUse'%3E%3Ccircle cx='20' cy='20' r='2' fill='%23ffd700' fill-opacity='0.1'/%3E%3Ccircle cx='60' cy='60' r='1.5' fill='%2320b2aa' fill-opacity='0.08'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23c0c0c0' fill-opacity='0.06'/%3E%3Cpath d='M40,40 L45,35 L50,40 L45,45 Z' fill='%23ffd700' fill-opacity='0.05'/%3E%3Cpath d='M80,20 L85,15 L90,20 L85,25 Z' fill='%2320b2aa' fill-opacity='0.04'/%3E%3Cpath d='M20,80 L25,75 L30,80 L25,85 Z' fill='%23c0c0c0' fill-opacity='0.03'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23jewelry-pattern)'/%3E%3C/svg%3E");
        }

        @keyframes patternFloat {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-10px, -10px) rotate(90deg); }
            50% { transform: translate(0, -20px) rotate(180deg); }
            75% { transform: translate(10px, -10px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        /* Floating jewelry elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            font-size: 2rem;
            opacity: 0.2;
            animation: float-around 25s linear infinite;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        [data-theme="dark"] .floating-element {
            opacity: 0.1;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .floating-element:nth-child(1) { left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { left: 20%; animation-delay: -5s; }
        .floating-element:nth-child(3) { left: 30%; animation-delay: -10s; }
        .floating-element:nth-child(4) { left: 40%; animation-delay: -15s; }
        .floating-element:nth-child(5) { left: 50%; animation-delay: -20s; }
        .floating-element:nth-child(6) { left: 60%; animation-delay: -3s; }
        .floating-element:nth-child(7) { left: 70%; animation-delay: -8s; }
        .floating-element:nth-child(8) { left: 80%; animation-delay: -13s; }
        .floating-element:nth-child(9) { left: 90%; animation-delay: -18s; }

        @keyframes float-around {
            0% { 
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% { 
                opacity: 0.1;
            }
            90% { 
                opacity: 0.1;
            }
            100% { 
                transform: translateY(-100px) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }

        /* Sparkle effects */
        .sparkle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #ffd700 0%, transparent 70%);
            border-radius: 50%;
            animation: sparkle 3s linear infinite;
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
        }

        [data-theme="dark"] .sparkle {
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
        }

        @keyframes sparkle {
            0%, 100% { 
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% { 
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
        }

        /* Dynamic gradient overlay for different sections */
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.1) 50%, transparent 70%),
                radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            animation: heroShimmer 8s ease-in-out infinite;
        }

        @keyframes heroShimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            font-size: 1.5rem;
        }

        .loading-spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #dc3545;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            text-align: center;
            padding: 2rem;
        }

        /* Navigation */
        .navbar {
            background: var(--navbar-bg);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px var(--shadow-medium);
            backdrop-filter: blur(10px);
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            position: relative;
            min-height: 60px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ffd700, #ffb347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-center {
            display: flex;
            align-items: center;
            gap: 2rem;
            flex: 1;
            justify-content: center;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 500;
        }

        .nav-links a:hover {
            background: rgba(255,215,0,0.2);
            color: #ffd700;
            transform: translateY(-2px);
        }

        .rates-display {
            background: rgba(255,215,0,0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(255,215,0,0.3);
        }

        .rates-display span {
            margin: 0 0.5rem;
            color: #ffd700;
            font-weight: bold;
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            flex-direction: column;
            width: 100%;
            background: rgba(0,0,0,0.95);
            border-radius: 0 0 15px 15px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,215,0,0.2);
            border-top: none;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.3s ease,
                        transform 0.3s ease;
            opacity: 0;
            transform: translateY(-10px);
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .mobile-menu.active {
            display: flex;
            max-height: 400px;
            opacity: 1;
            transform: translateY(0);
            padding: 1rem 1.5rem;
        }

        .mobile-menu a {
            color: white;
            text-decoration: none;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            margin: 0.2rem 0;
            transition: all 0.3s ease;
            font-weight: 500;
            border: 1px solid transparent;
            font-size: 0.95rem;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .mobile-menu a:hover,
        .mobile-menu a:active {
            background: rgba(255,215,0,0.2);
            border-color: rgba(255,215,0,0.3);
            transform: translateX(3px);
        }

        .mobile-rates {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,215,0,0.2);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }

        .mobile-rates div {
            padding: 0.4rem 0.6rem;
            font-size: 0.8rem;
            color: #ffd700;
            font-weight: 600;
            background: rgba(255,215,0,0.1);
            border-radius: 6px;
            text-align: center;
        }

        .menu-toggle {
            display: none;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 0.6rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            width: 45px;
            height: 45px;
            align-items: center;
            justify-content: center;
        }

        .menu-toggle:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: float 6s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.9;
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-gold {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #333;
        }

        .btn-silver {
            background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%);
            color: #333;
        }

        .btn:hover {
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* Features Section */
        .features {
            padding: 5rem 0;
            background: var(--bg-primary);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .feature-card {
            text-align: center;
            padding: 2rem;
            border-radius: 15px;
            background: var(--card-bg);
            transition: all 0.3s;
            box-shadow: 0 5px 15px var(--shadow-light);
            border: 1px solid var(--border-color);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--color-text-heading);
        }

        .feature-description {
            color: var(--color-text-muted);
            line-height: 1.6;
        }

        /* About Section */
        .about {
            padding: 5rem 0;
            background: var(--bg-secondary);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--color-text-heading);
        }

        .about-text p {
            font-size: 1.1rem;
            color: var(--color-text-muted);
            margin-bottom: 2rem;
            line-height: 1.8;
        }

        .about-image {
            text-align: center;
            font-size: 15rem;
            opacity: 0.7;
        }

        /* Testimonials */
        .testimonials {
            padding: 5rem 0;
            background: var(--bg-primary);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .testimonial-image {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .testimonial-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .testimonial-rating {
            color: #ffd700;
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            gap: 2rem;
            margin: 2rem 0;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: all 0.3s;
            overflow: hidden;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px var(--shadow-medium);
        }

        /* Image Modal */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .image-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .image-modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            overflow: hidden;
            border-radius: 10px;
        }

        .image-modal img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .image-modal img.zoomed {
            transform: scale(2);
            cursor: zoom-out;
        }

        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .image-modal-close:hover {
            background: white;
            transform: scale(1.1);
        }

        .product-card {
            text-align: center;
            position: relative;
        }

        .product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .product-image:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px var(--shadow-medium);
        }

        .product-emoji {
            font-size: 8rem;
            margin-bottom: 1rem;
            display: block;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .product-emoji:hover {
            transform: scale(1.1);
        }

        .product-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--color-text-heading);
        }

        .product-description {
            color: var(--color-text-muted);
            margin-bottom: 1rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .product-details {
            margin-bottom: 1.5rem;
        }

        .product-details p {
            margin: 0.5rem 0;
            font-weight: 500;
            color: var(--text-primary);
        }

        .discount-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #e74c3c;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .carat-select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--color-input-border);
            border-radius: 10px;
            margin: 0.5rem 0;
            font-size: 1rem;
            background: var(--color-input-bg);
            color: var(--color-input-text);
        }

        .product-price {
            font-size: 1.4rem;
            font-weight: bold;
            color: #27ae60;
            margin: 1rem 0;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 1rem;
            margin-right: 0.5rem;
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            flex: 1;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 50px;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        /* Category Buttons */
        .category-buttons {
            display: flex;
            gap: 1rem;
            margin: 3rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
            max-width: 200px;
            font-size: 1rem;
        }

        .category-btn.gold {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #333;
        }

        .category-btn.silver {
            background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%);
            color: #333;
        }

        .category-btn:hover {
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .category-btn.active {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        /* Cart and Wishlist */
        .cart-item {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-light);
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            border: 1px solid var(--border-color);
        }

        .cart-item-info {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex: 1;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 10px;
        }

        .cart-item-emoji {
            font-size: 3rem;
        }

        .cart-item-details h4 {
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .cart-item-details p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-btn {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            color: var(--text-primary);
        }

        .quantity-btn:hover {
            background: var(--border-color);
            transform: scale(1.1);
        }

        .quantity-display {
            font-size: 1.2rem;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
        }

        .cart-total {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 3rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .checkout-btn {
            background: white;
            color: #27ae60;
            padding: 1.5rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .checkout-btn:hover {
            transform: scale(1.05) translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        /* Admin Panel */
        .admin-login {
            max-width: 450px;
            margin: 5rem auto;
            background: var(--card-bg);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 40px var(--shadow-medium);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .admin-login::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-color);
        }

        .admin-login h2 {
            color: var(--color-text-heading);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.8rem;
        }

        .admin-panel {
            padding: 2rem 0;
        }

        .admin-header {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 25px var(--shadow-light);
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .admin-header h2 {
            color: var(--color-text-heading);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .admin-header p {
            color: var(--color-text-muted);
            font-size: 1.1rem;
        }

        .admin-tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .admin-tab {
            padding: 1.2rem 2rem;
            border: 2px solid var(--border-color);
            border-radius: 15px;
            background: var(--card-bg);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: var(--color-text-main);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1rem;
            box-shadow: 0 4px 15px var(--shadow-light);
        }

        .admin-tab:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--shadow-medium);
            border-color: var(--primary-color);
        }

        .admin-tab.active {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--shadow-medium);
        }

        .admin-form {
            background: var(--card-bg);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-light);
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            position: relative;
        }

        .admin-form h3 {
            color: var(--color-text-heading);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--color-text-label);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid var(--color-input-border);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--color-input-bg);
            color: var(--color-input-text);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(32, 178, 170, 0.1);
            transform: translateY(-2px);
        }

        .form-group input:hover,
        .form-group textarea:hover,
        .form-group select:hover {
            border-color: var(--secondary-color);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .products-list {
            display: grid;
            gap: 1rem;
        }

        .product-item {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 20px;
            display: grid;
            grid-template-columns: 80px 1fr auto;
            align-items: center;
            gap: 1.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px var(--shadow-light);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .product-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        }

        .product-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px var(--shadow-medium);
        }

        .product-item-image {
            font-size: 3rem;
            text-align: center;
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 1rem;
            border: 2px solid var(--border-color);
        }

        .product-info {
            flex: 1;
        }

        .product-info h4 {
            color: var(--color-text-heading);
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .product-info p {
            color: var(--color-text-muted);
            font-size: 0.95rem;
            margin: 0.3rem 0;
            line-height: 1.5;
        }

        .product-meta {
            display: flex;
            gap: 1rem;
            margin-top: 0.8rem;
            flex-wrap: wrap;
        }

        .product-badge {
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .product-badge.discount {
            background: #e74c3c;
        }

        .product-badge.featured {
            background: #f39c12;
        }

        .product-actions-admin {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            min-width: 120px;
        }

        .btn-edit {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
        }

        .btn-edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
            background: linear-gradient(135deg, #2980b9 0%, #3498db 100%);
        }

        .btn-delete {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
        }

        .btn-delete:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
        }

        .btn-toggle {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 0.6rem 1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            font-size: 0.8rem;
            box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
        }

        .btn-toggle:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
        }

        .btn-toggle.unavailable {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            box-shadow: 0 2px 8px rgba(149, 165, 166, 0.3);
        }

        .btn-toggle.unavailable:hover {
            box-shadow: 0 4px 15px rgba(149, 165, 166, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .nav-center {
                gap: 1rem;
            }
            
            .rates-display {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }

            .nav-links {
                display: none;
            }

            .nav-center {
                flex-direction: column;
                gap: 0;
                width: 100%;
            }

            .rates-display {
                display: none; /* Hide desktop rates on mobile */
            }

            .nav-content {
                flex-wrap: nowrap;
                justify-content: space-between;
            }

            .hero {
                padding: 3rem 0;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .btn {
                width: 100%;
                max-width: 280px;
                padding: 1rem 1.5rem;
            }

            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }

            .about-image {
                font-size: 8rem;
            }

            .category-buttons {
                flex-direction: column;
                gap: 0.8rem;
            }

            .category-btn {
                min-width: auto;
                padding: 1rem;
            }

            .cart-item {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .cart-item-info {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem;
            }

            .product-actions {
                flex-direction: column;
                gap: 0.8rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                grid-template-columns: 1fr;
            }

            .product-item {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 1rem;
            }

            .product-item-image {
                justify-self: center;
            }

            .product-actions-admin {
                flex-direction: row;
                justify-content: center;
                min-width: auto;
                gap: 0.5rem;
            }

            .product-meta {
                justify-content: center;
            }

            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }

            .grid-3 {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .navbar {
                padding: 0.8rem 0;
            }

            .logo {
                font-size: 1.5rem;
            }

            .hero {
                padding: 2.5rem 0;
            }

            .hero h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 0.95rem;
                padding: 0 1.5rem;
            }

            .features,
            .about,
            .testimonials {
                padding: 2.5rem 0;
            }

            .card {
                padding: 1.2rem;
                margin-bottom: 1rem;
            }

            .product-image {
                height: 180px;
            }

            .product-emoji {
                font-size: 5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .section-subtitle {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .mobile-menu {
                padding: 1rem;
                margin-top: 0.8rem;
            }

            .mobile-menu a {
                padding: 0.8rem;
                font-size: 0.95rem;
            }

            .mobile-rates div {
                font-size: 0.85rem;
                padding: 0.4rem 0;
            }

            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1rem;
            }

            .category-btn {
                padding: 0.8rem;
                font-size: 0.9rem;
            }

            .btn {
                padding: 0.8rem 1.2rem;
                font-size: 0.95rem;
            }

            .cart-total {
                padding: 1.5rem;
            }

            .checkout-btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mb-2 {
            margin-bottom: 2rem;
        }

        .mt-2 {
            margin-top: 2rem;
        }

        .page {
            min-height: 80vh;
            padding: 2rem 0;
        }

        .empty-state {
            text-align: center;
            color: var(--color-text-muted);
            font-size: 1.2rem;
            padding: 4rem;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-light);
            border: 1px solid var(--border-color);
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 1rem;
            color: var(--color-text-heading);
            font-weight: bold;
        }

        .section-subtitle {
            text-align: center;
            color: var(--color-text-muted);
            font-size: 1.1rem;
            margin-bottom: 3rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .success-message {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid #c3e6cb;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideIn 0.3s ease;
        }

        .error-message {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid #f5c6cb;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-icon {
            font-size: 1.2rem;
        }
    
/* Extra Mobile Compatibility Fixes */
@media (max-width: 600px) {
    .hero h1 {
        font-size: 1.8rem !important;
    }
    .hero p {
        font-size: 0.9rem !important;
    }
    .nav-links {
        display: none !important;
    }
    .menu-toggle {
        display: flex !important;
    }
    .container {
        padding: 0 10px !important;
    }
    .card {
        padding: 1rem !important;
    }
    .product-image {
        height: 150px !important;
    }
    .category-buttons {
        flex-direction: column !important;
        gap: 0.6rem !important;
    }
    .btn {
        font-size: 0.9rem !important;
        padding: 0.7rem 1rem !important;
        width: 100% !important;
    }
}


/* Rates Bar Styling */
.rates-bar {
    background: rgba(255, 215, 0, 0.1);
    border-top: 1px solid rgba(255, 215, 0, 0.3);
    border-bottom: 1px solid rgba(255, 215, 0, 0.3);
    padding: 0.6rem 0;
    text-align: center;
    font-size: 0.9rem;
    color: #ffd700;
    font-weight: 600;
    position: sticky;
    top: 60px;
    z-index: 999;
}

.rates-bar span {
    margin: 0 0.5rem;
    color: #ffd700;
}

</style>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getDatabase, ref, onValue, update, push, remove } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyC6soummxs9nthkL7A5vhUn-XqL5LiY3fE",
            authDomain: "websdatarates.firebaseapp.com",
            databaseURL: "https://websdatarates-default-rtdb.firebaseio.com",
            projectId: "websdatarates",
            storageBucket: "websdatarates.firebasestorage.app",
            messagingSenderId: "879792641903",
            appId: "1:879792641903:web:672c900d264960f7b7fa9a",
            measurementId: "G-8183Q5DYDB"
        };
        
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        window.db = db;
        window.dbRef = ref;
        window.dbOnValue = onValue;
        window.dbUpdate = update;
        window.dbPush = push;
        window.dbRemove = remove;
    
// Sync rates display in separate rates bar
function syncRatesBar() {
    document.getElementById("goldRate24KBar").innerText = document.getElementById("goldRate24K").innerText;
    document.getElementById("goldRate22KBar").innerText = document.getElementById("goldRate22K").innerText;
    document.getElementById("goldRate18KBar").innerText = document.getElementById("goldRate18K").innerText;
    document.getElementById("silverRateBar").innerText = document.getElementById("silverRate").innerText;
}
// Run sync every 1s to keep updated
setInterval(syncRatesBar, 1000);

</script>
</head>
<body>
    <!-- Dynamic Background Elements -->
    <div class="floating-elements">
        <div class="floating-element">💎</div>
        <div class="floating-element">💍</div>
        <div class="floating-element">👑</div>
        <div class="floating-element">⭐</div>
        <div class="floating-element">✨</div>
        <div class="floating-element">💎</div>
        <div class="floating-element">💍</div>
        <div class="floating-element">👑</div>
        <div class="floating-element">⭐</div>
    </div>
    
    <div class="sparkle-container" id="sparkleContainer">
        <!-- Sparkles will be generated by JavaScript -->
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <div>Loading Varnika Jewellers...</div>
    </div>

    <!-- Error Screen -->
    <div id="errorScreen" class="error-screen hidden">
        <div>
            <h2>Connection Error</h2>
            <p>Unable to connect to Firebase. Please check your internet connection and try again.</p>
            <button onclick="location.reload()" class="btn" style="margin-top: 2rem;">Retry</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo" id="siteName">💎 Varnika Jewellers</div>
                <div class="nav-center">
                    <ul class="nav-links" id="navLinks">
                        <li><a href="#" onclick="showPage('home')">🏠 Home</a></li>
                        <li><a href="#" onclick="showPage('gold')">🥇 Gold</a></li>
                        <li><a href="#" onclick="showPage('silver')">🥈 Silver</a></li>
                        <li><a href="#" onclick="showPage('cart')">🛒 Cart (<span id="cartCount">0</span>)</a></li>
                        <li><a href="#" onclick="showPage('wishlist')">❤️ Wishlist</a></li>
                        <li><a href="#" onclick="showPage('admin')">⚙️ Admin</a></li>
                    </ul>
                    <div class="rates-display" id="ratesDisplay">
                        🥇 24K: ₹<span id="goldRate24K">0</span>/g | 🏆 22K: ₹<span id="goldRate22K">0</span>/g | ⭐ 18K: ₹<span id="goldRate18K">0</span>/g | 🥈 Silver: ₹<span id="silverRate">0</span>/g
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">🌙</button>
                    <button class="menu-toggle" onclick="toggleMobileMenu()">☰</button>
                </div>
                <div class="mobile-menu" id="mobileMenu">
                    <a href="#" onclick="showPage('home')">🏠 Home</a>
                    <a href="#" onclick="showPage('gold')">🥇 Gold</a>
                    <a href="#" onclick="showPage('silver')">🥈 Silver</a>
                    <a href="#" onclick="showPage('cart')">🛒 Cart (<span id="cartCountMobile">0</span>)</a>
                    <a href="#" onclick="showPage('wishlist')">❤️ Wishlist</a>
                    <a href="#" onclick="showPage('admin')">⚙️ Admin</a>
                                    </div>
            </div>
        </div>
    </nav>

    <!-- Rates Bar (Always Visible) -->
    <div class="rates-bar">
        <div class="container">
            🥇 24K: ₹<span id="goldRate24KBar">0</span>/g |
            🏆 22K: ₹<span id="goldRate22KBar">0</span>/g |
            ⭐ 18K: ₹<span id="goldRate18KBar">0</span>/g |
            🥈 Silver: ₹<span id="silverRateBar">0</span>/g
        </div>
    </div>


    <!-- Home Page -->
    <div id="homePage" class="page">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1 id="heroTitle">Discover Timeless Elegance</h1>
                    <p id="heroSubtitle">Exquisite handcrafted jewelry that tells your unique story</p>
                    <div class="hero-buttons">
                        <button class="btn btn-gold" onclick="showPage('gold')" id="goldButton">Explore Gold Collection</button>
                        <button class="btn btn-silver" onclick="showPage('silver')" id="silverButton">Explore Silver Collection</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2 class="section-title">Why Choose Varnika Jewellers</h2>
                <p class="section-subtitle">Experience the finest in jewelry craftsmanship with our premium services</p>
                <div class="features-grid" id="featuresGrid">
                    <!-- Features will be loaded from Firebase -->
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="about">
            <div class="container">
                <div class="about-content">
                    <div class="about-text">
                        <h2 id="aboutTitle">About Varnika Jewellers</h2>
                        <p id="aboutText">With over three decades of excellence in jewelry craftsmanship...</p>
                    </div>
                    <div class="about-image">💎</div>
                </div>
            </div>
        </section>

        <!-- Collections Preview -->
        <section class="container">
            <h2 class="section-title" id="collectionsTitle">Our Premium Collections</h2>
            <div class="grid grid-2">
                <div class="card" style="background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%); cursor: pointer;" onclick="showPage('gold')">
                    <h3 id="goldCollectionTitle">Gold Collection</h3>
                    <p id="goldCollectionDesc">Premium gold jewelry with certified purity</p>
                </div>
                <div class="card" style="background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%); cursor: pointer;" onclick="showPage('silver')">
                    <h3 id="silverCollectionTitle">Silver Collection</h3>
                    <p id="silverCollectionDesc">Elegant sterling silver jewelry</p>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section class="testimonials">
            <div class="container">
                <h2 class="section-title">What Our Customers Say</h2>
                <div class="testimonials-grid" id="testimonialsGrid">
                    <!-- Testimonials will be loaded from Firebase -->
                </div>
            </div>
        </section>
    </div>

    <!-- Gold Page -->
    <div id="goldPage" class="page hidden">
        <div class="container">
            <h2 class="section-title">Gold Collection</h2>
            <p class="section-subtitle">Discover our exquisite range of gold jewelry crafted with precision and care</p>
            <div class="category-buttons" id="goldCategories">
                <!-- Categories will be loaded from Firebase -->
            </div>
            <div id="goldProducts" class="grid grid-4">
                <!-- Products will be loaded from Firebase -->
            </div>
        </div>
    </div>

    <!-- Silver Page -->
    <div id="silverPage" class="page hidden">
        <div class="container">
            <h2 class="section-title">Silver Collection</h2>
            <p class="section-subtitle">Elegant sterling silver pieces for every occasion and style</p>
            <div class="category-buttons" id="silverCategories">
                <!-- Categories will be loaded from Firebase -->
            </div>
            <div id="silverProducts" class="grid grid-4">
                <!-- Products will be loaded from Firebase -->
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cartPage" class="page hidden">
        <div class="container">
            <h2 class="section-title">Shopping Cart</h2>
            <div id="cartItems">
                <div class="empty-state">Your cart is empty</div>
            </div>
            <div class="cart-total">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                    <span style="font-size: 2rem; font-weight: bold;">Total: ₹<span id="cartTotal">0</span></span>
                    <button class="checkout-btn" onclick="checkout()">Checkout via WhatsApp</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Wishlist Page -->
    <div id="wishlistPage" class="page hidden">
        <div class="container">
            <h2 class="section-title">Your Wishlist</h2>
            <div id="wishlistItems" class="grid grid-4">
                <div class="empty-state">Your wishlist is empty</div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <button class="image-modal-close" onclick="closeImageModal()">×</button>
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <!-- Admin Page -->
    <div id="adminPage" class="page hidden">
        <div class="container">
            <!-- Admin Login -->
            <div id="adminLogin" class="admin-login">
                <h2 class="text-center mb-2">🔐 Admin Login</h2>
                <p style="text-align: center; color: var(--text-secondary); margin-bottom: 2rem;">Access the admin dashboard to manage your jewelry store</p>
                <form id="loginForm">
                    <div class="form-group">
                        <label>👤 Username</label>
                        <input type="text" id="username" placeholder="Enter your username" required>
                    </div>
                    <div class="form-group">
                        <label>🔑 Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; font-size: 1.1rem; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); border: none; border-radius: 12px; color: white; font-weight: bold; transition: all 0.3s ease;">
                        🚀 Login to Dashboard
                    </button>
                </form>
            </div>

            <!-- Admin Panel -->
            <div id="adminPanel" class="admin-panel hidden">
                <div class="admin-header">
                    <h2>⚙️ Admin Dashboard</h2>
                    <p>Manage your jewelry store with ease</p>
                </div>
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="showAdminTab('rates')">💰 Live Rates</button>
                    <button class="admin-tab" onclick="showAdminTab('content')">📝 Site Content</button>
                    <button class="admin-tab" onclick="showAdminTab('products')">💎 Products</button>
                    <button class="admin-tab" onclick="showAdminTab('categories')">📂 Categories</button>
                </div>

                <!-- Rates Tab -->
                <div id="ratesTab" class="admin-form">
                    <h3>💰 Update Live Rates</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">Set current market rates for gold and silver jewelry</p>
                    <form id="rateForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>🥇 Gold Rate (per gram)</label>
                                <input type="number" id="newGold" placeholder="Enter gold rate in ₹" required>
                                <small style="color: var(--text-secondary); font-size: 0.9rem;">Current rate will be used for 24K calculations</small>
                            </div>
                            <div class="form-group">
                                <label>🥈 Silver Rate (per gram)</label>
                                <input type="number" id="newSilver" placeholder="Enter silver rate in ₹" required>
                                <small style="color: var(--text-secondary); font-size: 0.9rem;">Rate for sterling silver jewelry</small>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; font-size: 1.1rem; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); border: none; border-radius: 12px; color: white; font-weight: bold; transition: all 0.3s ease;">
                            💾 Update Rates
                        </button>
                    </form>
                </div>

                <!-- Content Tab -->
                <div id="contentTab" class="admin-form hidden">
                    <h3>📝 Update Site Content</h3>
                    <form id="contentForm">
                        <div class="form-group">
                            <label>🏪 Site Name</label>
                            <input type="text" id="siteNameInput" required>
                        </div>
                        <div class="form-group">
                            <label>🎯 Hero Title</label>
                            <input type="text" id="heroTitleInput" required>
                        </div>
                        <div class="form-group">
                            <label>📝 Hero Subtitle</label>
                            <textarea id="heroSubtitleInput" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>📱 WhatsApp Number</label>
                            <input type="text" id="whatsappNumberInput" required>
                        </div>
                        <div class="form-group">
                            <label>📧 Email</label>
                            <input type="email" id="emailInput" required>
                        </div>
                        <div class="form-group">
                            <label>📍 Address</label>
                            <textarea id="addressInput" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">💾 Update Content</button>
                    </form>
                </div>

                <!-- Products Tab -->
                <div id="productsTab" class="admin-form hidden">
                    <h3>💎 Manage Products</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">Add, edit, and manage your jewelry inventory</p>
                    <button class="btn btn-primary" onclick="showAddProductForm()" style="margin-bottom: 2rem; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); border: none; border-radius: 12px; color: white; font-weight: bold; padding: 1rem 2rem; transition: all 0.3s ease;">
                        ➕ Add New Product
                    </button>
                    
                    <div id="addProductForm" class="hidden" style="background: var(--bg-secondary); padding: 2rem; border-radius: 15px; margin-bottom: 2rem; border: 1px solid var(--border-color);">
                        <h4 style="color: var(--text-primary); margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">✨ Product Details</h4>
                        <form id="productForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>📝 Product Name</label>
                                    <input type="text" id="productName" placeholder="Enter product name" required>
                                </div>
                                <div class="form-group">
                                    <label>⚖️ Weight (grams)</label>
                                    <input type="number" step="0.1" id="productWeight" placeholder="Enter weight" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>🏷️ Type</label>
                                    <select id="productType" required>
                                        <option value="">Select type</option>
                                        <option value="gold">🥇 Gold</option>
                                        <option value="silver">🥈 Silver</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>📂 Category</label>
                                    <select id="productCategory" required>
                                        <option value="">Select category</option>
                                        <option value="chains">⛓️ Chains</option>
                                        <option value="rings">💍 Rings</option>
                                        <option value="necklaces">📿 Necklaces</option>
                                        <option value="earrings">👂 Earrings</option>
                                        <option value="bracelets">🔗 Bracelets</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>🖼️ Image URL (Optional)</label>
                                <input type="url" id="productImage" placeholder="https://example.com/image.jpg">
                                <small style="color: var(--text-secondary); font-size: 0.9rem;">Leave empty to use default jewelry emoji</small>
                            </div>
                            <div class="form-group">
                                <label>📄 Description</label>
                                <textarea id="productDescription" rows="3" placeholder="Describe the product features and details" required></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>🏷️ Discount (%)</label>
                                    <input type="number" id="productDiscount" min="0" max="100" value="0" placeholder="0">
                                </div>
                                <div class="form-group">
                                    <label>⭐ Featured Product</label>
                                    <select id="productFeatured">
                                        <option value="false">No</option>
                                        <option value="true">Yes</option>
                                    </select>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                                <button type="submit" class="btn btn-primary" style="flex: 1; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); border: none; border-radius: 12px; color: white; font-weight: bold; padding: 1rem;">
                                    💾 Save Product
                                </button>
                                <button type="button" class="btn btn-secondary" onclick="hideAddProductForm()" style="background: #6c757d; border: none; border-radius: 12px; color: white; font-weight: bold; padding: 1rem 2rem;">
                                    ❌ Cancel
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="products-list" id="productsList">
                        <!-- Products list will be loaded here -->
                    </div>
                </div>

                <!-- Categories Tab -->
                <div id="categoriesTab" class="admin-form hidden">
                    <h3>Manage Categories</h3>
                    <div class="form-row">
                        <div>
                            <h4>Gold Categories</h4>
                            <div id="goldCategoriesList"></div>
                        </div>
                        <div>
                            <h4>Silver Categories</h4>
                            <div id="silverCategoriesList"></div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 2px solid var(--border-color);">
                    <button class="btn btn-secondary" onclick="logout()" style="background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%); border: none; border-radius: 12px; color: white; font-weight: bold; padding: 1rem 2rem; transition: all 0.3s ease;">
                        🚪 Logout from Dashboard
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentRates = { gold: 0, silver: 0 };
        let siteContent = {};
        let categories = { gold: {}, silver: {} };
        let products = { gold: {}, silver: {} };
        let cart = [];
        let wishlist = [];
        let whatsappNumber = '917464870444';
        let isLoggedIn = false;
        let currentGoldCategory = 'chains';
        let currentSilverCategory = 'chains';
        let editingProductId = null;
        let editingProductType = null;
        let editingProductCategory = null;

        // Initialize Firebase and load all data
        function initializeApp() {
            try {
                loadRates();
                loadSiteContent();
                loadCategories();
                loadProducts();
                updateCartCount();
                
                // Hide loading screen after 3 seconds or when data loads
                setTimeout(() => {
                    document.getElementById('loadingScreen').classList.add('hidden');
                }, 3000);
            } catch (error) {
                showError('Failed to connect to Firebase. Please check your internet connection.');
            }
        }

        function showError(message) {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('errorScreen').classList.remove('hidden');
            document.querySelector('#errorScreen p').textContent = message;
        }

        // Load rates from Firebase
        function loadRates() {
            const ratesRef = window.dbRef(window.db, "rates");
            window.dbOnValue(ratesRef, (snapshot) => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    currentRates.gold = data.gold || 0;
                    currentRates.silver = data.silver || 0;
                    
                    updateRatesDisplay();
                } else {
                    showError('No rate data found in Firebase');
                }
            }, (error) => {
                showError('Failed to load rates: ' + error.message);
            });
        }

        function updateRatesDisplay() {
            // Calculate different gold rates based on 24K base rate
            const gold22K = Math.round(currentRates.gold * 0.916); // 22K is 91.6% pure
            const gold18K = Math.round(currentRates.gold * 0.750); // 18K is 75% pure
            
            // Update desktop rates display
            const goldRate24K = document.getElementById('goldRate24K');
            const goldRate22K = document.getElementById('goldRate22K');
            const goldRate18K = document.getElementById('goldRate18K');
            const silverRate = document.getElementById('silverRate');
            
            if (goldRate24K) goldRate24K.textContent = currentRates.gold;
            if (goldRate22K) goldRate22K.textContent = gold22K;
            if (goldRate18K) goldRate18K.textContent = gold18K;
            if (silverRate) silverRate.textContent = currentRates.silver;
            
            // Update mobile rates display
            const goldRate24KMobile = document.getElementById('goldRate24KMobile');
            const goldRate22KMobile = document.getElementById('goldRate22KMobile');
            const goldRate18KMobile = document.getElementById('goldRate18KMobile');
            const silverRateMobile = document.getElementById('silverRateMobile');
            
            if (goldRate24KMobile) goldRate24KMobile.textContent = currentRates.gold;
            if (goldRate22KMobile) goldRate22KMobile.textContent = gold22K;
            if (goldRate18KMobile) goldRate18KMobile.textContent = gold18K;
            if (silverRateMobile) silverRateMobile.textContent = currentRates.silver;
        }

        // Load site content from Firebase
        function loadSiteContent() {
            const contentRef = window.dbRef(window.db, "siteContent");
            window.dbOnValue(contentRef, (snapshot) => {
                if (snapshot.exists()) {
                    siteContent = snapshot.val();
                    whatsappNumber = siteContent.whatsappNumber || '917464870444';
                    updateSiteContent();
                    loadFeatures();
                    loadTestimonials();
                } else {
                    showError('No site content found in Firebase');
                }
            }, (error) => {
                showError('Failed to load site content: ' + error.message);
            });
        }

        function updateSiteContent() {
            document.getElementById('siteName').textContent = siteContent.siteName || 'Varnika Jewellers';
            document.getElementById('heroTitle').textContent = siteContent.heroTitle || 'Discover Timeless Elegance';
            document.getElementById('heroSubtitle').textContent = siteContent.heroSubtitle || 'Exquisite handcrafted jewelry';
            document.getElementById('goldButton').textContent = siteContent.goldButtonText || 'Explore Gold Collection';
            document.getElementById('silverButton').textContent = siteContent.silverButtonText || 'Explore Silver Collection';
            document.getElementById('collectionsTitle').textContent = siteContent.collectionsTitle || 'Our Collections';
            document.getElementById('goldCollectionTitle').textContent = siteContent.goldCollectionTitle || 'Gold Collection';
            document.getElementById('goldCollectionDesc').textContent = siteContent.goldCollectionDesc || 'Premium gold jewelry';
            document.getElementById('silverCollectionTitle').textContent = siteContent.silverCollectionTitle || 'Silver Collection';
            document.getElementById('silverCollectionDesc').textContent = siteContent.silverCollectionDesc || 'Elegant silver jewelry';
            document.getElementById('aboutTitle').textContent = siteContent.aboutTitle || 'About Us';
            document.getElementById('aboutText').textContent = siteContent.aboutText || 'About our company...';
        }

        function loadFeatures() {
            const container = document.getElementById('featuresGrid');
            container.innerHTML = '';
            
            if (siteContent.features) {
                Object.values(siteContent.features).forEach(feature => {
                    const div = document.createElement('div');
                    div.className = 'feature-card';
                    div.innerHTML = `
                        <div class="feature-icon">${feature.icon}</div>
                        <h3 class="feature-title">${feature.title}</h3>
                        <p class="feature-description">${feature.description}</p>
                    `;
                    container.appendChild(div);
                });
            }
        }

        function loadTestimonials() {
            const container = document.getElementById('testimonialsGrid');
            container.innerHTML = '';
            
            if (siteContent.testimonials) {
                Object.values(siteContent.testimonials).forEach(testimonial => {
                    const div = document.createElement('div');
                    div.className = 'testimonial-card';
                    div.innerHTML = `
                        <div class="testimonial-image">${testimonial.image}</div>
                        <p class="testimonial-text">"${testimonial.text}"</p>
                        <h4 class="testimonial-name">${testimonial.name}</h4>
                        <div class="testimonial-rating">${'⭐'.repeat(testimonial.rating)}</div>
                    `;
                    container.appendChild(div);
                });
            }
        }

        // Load categories from Firebase
        function loadCategories() {
            const categoriesRef = window.dbRef(window.db, "categories");
            window.dbOnValue(categoriesRef, (snapshot) => {
                if (snapshot.exists()) {
                    categories = snapshot.val();
                    updateCategoryButtons();
                } else {
                    showError('No categories found in Firebase');
                }
            }, (error) => {
                showError('Failed to load categories: ' + error.message);
            });
        }

        function updateCategoryButtons() {
            // Gold categories
            const goldContainer = document.getElementById('goldCategories');
            goldContainer.innerHTML = '';
            Object.keys(categories.gold || {}).forEach((categoryKey, index) => {
                const button = document.createElement('button');
                button.className = `category-btn gold ${index === 0 ? 'active' : ''}`;
                button.textContent = categories.gold[categoryKey];
                button.onclick = () => showGoldCategory(categoryKey, button);
                goldContainer.appendChild(button);
            });

            // Silver categories
            const silverContainer = document.getElementById('silverCategories');
            silverContainer.innerHTML = '';
            Object.keys(categories.silver || {}).forEach((categoryKey, index) => {
                const button = document.createElement('button');
                button.className = `category-btn silver ${index === 0 ? 'active' : ''}`;
                button.textContent = categories.silver[categoryKey];
                button.onclick = () => showSilverCategory(categoryKey, button);
                silverContainer.appendChild(button);
            });
        }

        // Load products from Firebase
        function loadProducts() {
            const productsRef = window.dbRef(window.db, "products");
            window.dbOnValue(productsRef, (snapshot) => {
                if (snapshot.exists()) {
                    products = snapshot.val();
                    document.getElementById('loadingScreen').classList.add('hidden');
                } else {
                    showError('No products found in Firebase');
                }
            }, (error) => {
                showError('Failed to load products: ' + error.message);
            });
        }

        // Calculate price based on carat and weight
        function calculatePrice(weight, carat, isSilver = false) {
            if (isSilver) {
                return Math.round(weight * currentRates.silver);
            }
            
            let baseRate = currentRates.gold;
            if (carat === '22K') baseRate = Math.round(currentRates.gold * 0.916);
            if (carat === '18K') baseRate = Math.round(currentRates.gold * 0.750);
            
            const makingCharges = Math.round(baseRate * 0.15); // 15% making charges
            const totalRate = baseRate + makingCharges;
            
            return Math.round(weight * totalRate);
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            
            mobileMenu.classList.toggle('active');
            
            // Update hamburger icon
            if (mobileMenu.classList.contains('active')) {
                menuToggle.innerHTML = '✕';
                menuToggle.style.transform = 'rotate(180deg)';
            } else {
                menuToggle.innerHTML = '☰';
                menuToggle.style.transform = 'rotate(0deg)';
            }
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            const navbar = document.querySelector('.navbar');
            
            if (mobileMenu && mobileMenu.classList.contains('active')) {
                if (!navbar.contains(event.target)) {
                    mobileMenu.classList.remove('active');
                    menuToggle.innerHTML = '☰';
                    menuToggle.style.transform = 'rotate(0deg)';
                }
            }
        });

        // Show page function
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            document.getElementById(page + 'Page').classList.remove('hidden');
            
            // Close mobile menu and reset hamburger icon
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            if (mobileMenu) {
                mobileMenu.classList.remove('active');
            }
            if (menuToggle) {
                menuToggle.innerHTML = '☰';
                menuToggle.style.transform = 'rotate(0deg)';
            }
            
            if (page === 'gold') showGoldCategory(currentGoldCategory);
            if (page === 'silver') showSilverCategory(currentSilverCategory);
            if (page === 'cart') updateCartDisplay();
            if (page === 'wishlist') updateWishlistDisplay();
        }

        // Show gold category
        function showGoldCategory(category, buttonElement) {
            currentGoldCategory = category;
            
            // Update active button
            document.querySelectorAll('#goldCategories .category-btn').forEach(btn => btn.classList.remove('active'));
            if (buttonElement) buttonElement.classList.add('active');
            
            const container = document.getElementById('goldProducts');
            container.innerHTML = '';
            
            if (products.gold && products.gold[category]) {
                Object.values(products.gold[category]).forEach(product => {
                    if (product.available) {
                        const productCard = createProductCard(product, 'gold');
                        container.appendChild(productCard);
                    }
                });
            }
            
            if (container.children.length === 0) {
                container.innerHTML = '<div class="empty-state">No products available in this category</div>';
            }
        }

        // Show silver category
        function showSilverCategory(category, buttonElement) {
            currentSilverCategory = category;
            
            // Update active button
            document.querySelectorAll('#silverCategories .category-btn').forEach(btn => btn.classList.remove('active'));
            if (buttonElement) buttonElement.classList.add('active');
            
            const container = document.getElementById('silverProducts');
            container.innerHTML = '';
            
            if (products.silver && products.silver[category]) {
                Object.values(products.silver[category]).forEach(product => {
                    if (product.available) {
                        const productCard = createProductCard(product, 'silver');
                        container.appendChild(productCard);
                    }
                });
            }
            
            if (container.children.length === 0) {
                container.innerHTML = '<div class="empty-state">No products available in this category</div>';
            }
        }

        // Create product card
        function createProductCard(product, type) {
            const div = document.createElement('div');
            div.className = 'card product-card';
            
            const isSilver = type === 'silver';
            const defaultCarat = isSilver ? 'Silver' : '24K';
            const originalPrice = calculatePrice(product.weight, defaultCarat, isSilver);
            const discountedPrice = product.discount ? Math.round(originalPrice * (1 - product.discount / 100)) : originalPrice;
            
            div.innerHTML = `
                ${product.discount > 0 ? `<div class="discount-badge">🏷️ ${product.discount}% OFF</div>` : ''}
                ${product.image && product.image.startsWith('http') ? 
                    `<img src="${product.image}" alt="${product.name}" class="product-image" onclick="openImageModal('${product.image}', '${product.name}')" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                     <span class="product-emoji" style="display: none;" onclick="openImageModal('${product.image}', '${product.name}')">💎</span>` :
                    `<span class="product-emoji">💎</span>`
                }
                <h3 class="product-title">✨ ${product.name}</h3>
                <p class="product-description">${product.description}</p>
                <div class="product-details">
                    <p style="color: black;"><strong>⚖️ Weight:</strong> ${product.weight}g</p>
                    ${!isSilver ? `
                    <div>
                        <label style="color: black;">🏆 Carat:</label>
                        <select class="carat-select" onchange="updateProductPrice('${product.id}', this.value, ${product.weight}, ${isSilver}, this, ${product.discount || 0})">
                           
                            <option value="22K">22K Gold</option>
                            <option value="18K">18K Gold</option>
                        </select>
                    </div>
                    ` : ''}
                    <div class="product-price">
                        ${product.discount > 0 ? `<span class="original-price">₹${originalPrice}</span>` : ''}
                        💰 ₹<span class="final-price">${discountedPrice}</span>
                    </div>
                </div>
                <div class="product-actions">
                    <button class="btn btn-primary" onclick="addToCart('${product.id}', '${type}', this)">
                        🛒 Add to Cart
                    </button>
                    <button class="btn btn-secondary" onclick="addToWishlist('${product.id}', '${type}')">
                        ❤️
                    </button>
                </div>
            `;
            
            return div;
        }

        // Update product price when carat changes
        function updateProductPrice(productId, carat, weight, isSilver, selectElement, discount) {
            const originalPrice = calculatePrice(weight, carat, isSilver);
            const discountedPrice = discount ? Math.round(originalPrice * (1 - discount / 100)) : originalPrice;
            
            const priceContainer = selectElement.closest('.product-card').querySelector('.product-price');
            priceContainer.innerHTML = `
                ${discount > 0 ? `<span class="original-price">₹${originalPrice}</span>` : ''}
                ₹<span class="final-price">${discountedPrice}</span>
            `;
        }

        // Add to cart
        function addToCart(productId, type, buttonElement) {
            const productCard = buttonElement.closest('.product-card');
            const productName = productCard.querySelector('.product-title').textContent;
            const productWeight = parseFloat(productCard.querySelector('.product-details p').textContent.match(/[\d.]+/)[0]);
            const productDescription = productCard.querySelector('.product-description').textContent;
            
            const caratSelect = productCard.querySelector('.carat-select');
            const selectedCarat = caratSelect ? caratSelect.value : (type === 'silver' ? 'Silver' : '24K');
            
            // Get discount from the product data
            let discount = 0;
            if (products[type]) {
                Object.values(products[type]).forEach(category => {
                    Object.values(category).forEach(product => {
                        if (product.id === productId) {
                            discount = product.discount || 0;
                        }
                    });
                });
            }
            
            const originalPrice = calculatePrice(productWeight, selectedCarat, type === 'silver');
            const price = discount ? Math.round(originalPrice * (1 - discount / 100)) : originalPrice;
            
            const cartItem = {
                id: productId,
                name: productName,
                weight: productWeight,
                description: productDescription,
                type,
                carat: selectedCarat,
                price,
                originalPrice,
                discount,
                quantity: 1
            };
            
            const existingIndex = cart.findIndex(item => item.id === productId && item.carat === selectedCarat);
            if (existingIndex >= 0) {
                cart[existingIndex].quantity++;
            } else {
                cart.push(cartItem);
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            // Show success message
            buttonElement.textContent = 'Added!';
            buttonElement.style.background = '#27ae60';
            setTimeout(() => {
                buttonElement.textContent = 'Add to Cart';
                buttonElement.style.background = '';
            }, 2000);
        }

        // Add to wishlist
        function addToWishlist(productId, type) {
            const existingIndex = wishlist.findIndex(item => item.id === productId);
            
            if (existingIndex >= 0) {
                alert('Already in wishlist!');
                return;
            }
            
            // Find product data
            let productData = null;
            if (products[type]) {
                Object.values(products[type]).forEach(category => {
                    Object.values(category).forEach(product => {
                        if (product.id === productId) {
                            productData = product;
                        }
                    });
                });
            }
            
            if (productData) {
                wishlist.push({ ...productData, type });
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                alert('Added to wishlist!');
            }
        }

        // Update cart count
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
            document.getElementById('cartCountMobile').textContent = count;
        }

        // Update cart display
        function updateCartDisplay() {
            const container = document.getElementById('cartItems');
            const totalElement = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                container.innerHTML = '<div class="empty-state">Your cart is empty</div>';
                totalElement.textContent = '0';
                return;
            }
            
            let total = 0;
            container.innerHTML = '';
            
            cart.forEach((item, index) => {
                total += item.price * item.quantity;
                
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <div class="cart-item-info">
                        <span class="cart-item-emoji">💎</span>
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>${item.carat} • ${item.weight}g • ₹${item.price} each</p>
                            ${item.discount > 0 ? `<p style="color: #e74c3c;">Discount: ${item.discount}% OFF</p>` : ''}
                        </div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, -1)">-</button>
                        <span class="quantity-display">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, 1)">+</button>
                        <button class="btn btn-secondary" onclick="removeFromCart(${index})" style="margin-left: 1rem;">Remove</button>
                    </div>
                `;
                container.appendChild(div);
            });
            
            totalElement.textContent = total.toLocaleString();
        }

        // Update cart quantity
        function updateCartQuantity(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            updateCartCount();
        }

        // Remove from cart
        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            updateCartCount();
        }

        // Update wishlist display
        function updateWishlistDisplay() {
            const container = document.getElementById('wishlistItems');
            
            if (wishlist.length === 0) {
                container.innerHTML = '<div class="empty-state">Your wishlist is empty</div>';
                return;
            }
            
            container.innerHTML = '';
            wishlist.forEach((item, index) => {
                const productCard = createWishlistCard(item, index);
                container.appendChild(productCard);
            });
        }

        // Create wishlist card
        function createWishlistCard(product, index) {
            const div = document.createElement('div');
            div.className = 'card product-card';
            
            const isSilver = product.type === 'silver';
            const price = calculatePrice(product.weight, isSilver ? 'Silver' : '24K', isSilver);
            
            div.innerHTML = `
                ${product.image && product.image.startsWith('http') ? 
                    `<img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                     <span class="product-emoji" style="display: none;">💎</span>` :
                    `<span class="product-emoji">💎</span>`
                }
                <h3 class="product-title">${product.name}</h3>
                <p class="product-description">${product.description}</p>
                <p><strong>Weight:</strong> ${product.weight}g</p>
                <p class="product-price">₹${price}</p>
                <div class="product-actions">
                    <button class="btn btn-primary" onclick="moveToCart('${product.id}', '${product.type}', ${index})">
                        Move to Cart
                    </button>
                    <button class="btn btn-secondary" onclick="removeFromWishlist(${index})">
                        Remove
                    </button>
                </div>
            `;
            
            return div;
        }

        // Move to cart from wishlist
        function moveToCart(productId, type, wishlistIndex) {
            const wishlistItem = wishlist[wishlistIndex];
            const cartItem = {
                ...wishlistItem,
                carat: type === 'silver' ? 'Silver' : '24K',
                price: calculatePrice(wishlistItem.weight, type === 'silver' ? 'Silver' : '24K', type === 'silver'),
                quantity: 1
            };
            
            const existingIndex = cart.findIndex(item => item.id === productId && item.carat === cartItem.carat);
            if (existingIndex >= 0) {
                cart[existingIndex].quantity++;
            } else {
                cart.push(cartItem);
            }
            
            wishlist.splice(wishlistIndex, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateCartCount();
            updateWishlistDisplay();
            alert('Moved to cart!');
        }

        // Remove from wishlist
        function removeFromWishlist(index) {
            wishlist.splice(index, 1);
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistDisplay();
        }

        // Checkout function
        function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            // Use the WhatsApp number from admin-updated site content
            const currentWhatsappNumber = siteContent.whatsappNumber || whatsappNumber;
            
            let message = `Hello! I'd like to place an order from ${siteContent.siteName || 'Varnika Jewellers'}:\n\n`;
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                message += `${item.name}\n`;
                message += `Carat: ${item.carat}\n`;
                message += `Weight: ${item.weight}g\n`;
                message += `Quantity: ${item.quantity}\n`;
                message += `Price: ₹${itemTotal.toLocaleString()}\n`;
                if (item.discount > 0) {
                    message += `Discount: ${item.discount}% OFF\n`;
                }
                message += `\n`;
            });
            
            message += `Total Amount: ₹${total.toLocaleString()}\n\n`;
            message += "Please confirm the order and provide delivery details. Thank you!";
            
            const whatsappUrl = `https://wa.me/${currentWhatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Admin Functions
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Check credentials against Firebase
            const authRef = window.dbRef(window.db, "auth/admin");
            window.dbOnValue(authRef, (snapshot) => {
                if (snapshot.exists()) {
                    const adminData = snapshot.val();
                    if (username === adminData.username && password === adminData.password) {
                        isLoggedIn = true;
                        document.getElementById('adminLogin').classList.add('hidden');
                        document.getElementById('adminPanel').classList.remove('hidden');
                        loadAdminData();
                    } else {
                        alert('Invalid credentials!');
                    }
                } else {
                    // Default credentials if not in Firebase
                    if (username === 'vvv' && password === '444') {
                        isLoggedIn = true;
                        document.getElementById('adminLogin').classList.add('hidden');
                        document.getElementById('adminPanel').classList.remove('hidden');
                        loadAdminData();
                    } else {
                        alert('Invalid credentials!');
                    }
                }
            }, { onlyOnce: true });
        });

        function loadAdminData() {
            // Load current rates
            document.getElementById('newGold').value = currentRates.gold;
            document.getElementById('newSilver').value = currentRates.silver;
            
            // Load current content
            document.getElementById('siteNameInput').value = siteContent.siteName || '';
            document.getElementById('heroTitleInput').value = siteContent.heroTitle || '';
            document.getElementById('heroSubtitleInput').value = siteContent.heroSubtitle || '';
            document.getElementById('whatsappNumberInput').value = siteContent.whatsappNumber || '';
            document.getElementById('emailInput').value = siteContent.email || '';
            document.getElementById('addressInput').value = siteContent.address || '';
            
            loadProductsList();
        }

        function showAdminTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-form').forEach(f => f.classList.add('hidden'));
            
            event.target.classList.add('active');
            document.getElementById(tab + 'Tab').classList.remove('hidden');
        }

        // Rate update
        document.getElementById('rateForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const newGold = parseFloat(document.getElementById('newGold').value);
            const newSilver = parseFloat(document.getElementById('newSilver').value);
            
            const now = new Date();
            const timestamp = now.toISOString().slice(0, 19).replace('T', ' ');
            
            const ratesRef = window.dbRef(window.db, "rates");
            window.dbUpdate(ratesRef, {
                gold: newGold,
                silver: newSilver,
                last_updated: timestamp
            }).then(() => {
                showMessage('✅ Rates updated successfully!', 'success');
                document.getElementById('rateForm').reset();
            }).catch(err => {
                showMessage('❌ Error updating rates: ' + err.message, 'error');
            });
        });

        // Content update
        document.getElementById('contentForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const updatedContent = {
                ...siteContent,
                siteName: document.getElementById('siteNameInput').value,
                heroTitle: document.getElementById('heroTitleInput').value,
                heroSubtitle: document.getElementById('heroSubtitleInput').value,
                whatsappNumber: document.getElementById('whatsappNumberInput').value,
                email: document.getElementById('emailInput').value,
                address: document.getElementById('addressInput').value
            };
            
            const contentRef = window.dbRef(window.db, "siteContent");
            window.dbUpdate(contentRef, updatedContent).then(() => {
                showMessage('✅ Content updated successfully!', 'success');
            }).catch(err => {
                showMessage('❌ Error updating content: ' + err.message, 'error');
            });
        });

        // Product management
        function showAddProductForm() {
            document.getElementById('addProductForm').classList.remove('hidden');
            if (!editingProductId) {
                document.getElementById('productForm').reset();
                editingProductType = null;
                editingProductCategory = null;
                
                // Reset form title for new product
                const formTitle = document.querySelector('#addProductForm h4');
                if (formTitle) {
                    formTitle.innerHTML = '✨ Product Details';
                }
            }
        }

        function hideAddProductForm() {
            document.getElementById('addProductForm').classList.add('hidden');
            document.getElementById('productForm').reset();
            editingProductId = null;
            editingProductType = null;
            editingProductCategory = null;
            
            // Reset form title
            const formTitle = document.querySelector('#addProductForm h4');
            if (formTitle) {
                formTitle.innerHTML = '✨ Product Details';
            }
        }

        document.getElementById('productForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const productData = {
                id: editingProductId || 'p' + Date.now(),
                name: document.getElementById('productName').value,
                weight: parseFloat(document.getElementById('productWeight').value),
                type: document.getElementById('productType').value,
                category: document.getElementById('productCategory').value,
                image: document.getElementById('productImage').value || '',
                description: document.getElementById('productDescription').value,
                discount: parseInt(document.getElementById('productDiscount').value) || 0,
                featured: document.getElementById('productFeatured').value === 'true',
                available: true
            };
            
            // If editing, remove the old product first if type or category changed
            const updates = {};
            
            if (editingProductId && editingProductType && editingProductCategory) {
                // If type or category changed, remove from old location
                if (editingProductType !== productData.type || editingProductCategory !== productData.category) {
                    updates[`products/${editingProductType}/${editingProductCategory}/${editingProductId}`] = null;
                }
            }
            
            // Add/update product in new/current location
            updates[`products/${productData.type}/${productData.category}/${productData.id}`] = productData;
            
            window.dbUpdate(window.dbRef(window.db), updates).then(() => {
                showMessage(editingProductId ? '✅ Product updated successfully!' : '✅ Product added successfully!', 'success');
                hideAddProductForm();
                loadProductsList();
            }).catch(err => {
                showMessage('❌ Error saving product: ' + err.message, 'error');
            });
        });

        function loadProductsList() {
            const container = document.getElementById('productsList');
            container.innerHTML = '';
            
            let hasProducts = false;
            
            ['gold', 'silver'].forEach(type => {
                if (products[type]) {
                    Object.keys(products[type]).forEach(category => {
                        Object.values(products[type][category]).forEach(product => {
                            hasProducts = true;
                            const div = document.createElement('div');
                            div.className = 'product-item';
                            
                            const typeIcon = type === 'gold' ? '🥇' : '🥈';
                            const categoryIcon = {
                                'chains': '⛓️',
                                'rings': '💍',
                                'necklaces': '📿',
                                'earrings': '👂',
                                'bracelets': '🔗'
                            }[category] || '💎';
                            
                            const availabilityStatus = product.available !== false;
                            const price = calculatePrice(product.weight, type === 'silver' ? 'Silver' : '24K', type === 'silver');
                            const discountedPrice = product.discount ? Math.round(price * (1 - product.discount / 100)) : price;
                            
                            div.innerHTML = `
                                <div class="product-item-image">
                                    ${product.image && product.image.startsWith('http') ? 
                                        `<img src="${product.image}" alt="${product.name}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 10px;" onerror="this.style.display='none'; this.parentElement.innerHTML='💎';">` :
                                        '💎'
                                    }
                                </div>
                                <div class="product-info">
                                    <h4>${typeIcon} ${product.name}</h4>
                                    <p><strong>${categoryIcon} Category:</strong> ${categories[type][category] || category}</p>
                                    <p><strong>⚖️ Weight:</strong> ${product.weight}g</p>
                                    <p><strong>💰 Price:</strong> ₹${discountedPrice.toLocaleString()} ${product.discount > 0 ? `<span style="text-decoration: line-through; color: var(--text-secondary);">₹${price.toLocaleString()}</span>` : ''}</p>
                                    <p style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">${product.description}</p>
                                    <div class="product-meta">
                                        ${product.discount > 0 ? `<span class="product-badge discount">🏷️ ${product.discount}% OFF</span>` : ''}
                                        ${product.featured ? `<span class="product-badge featured">⭐ Featured</span>` : ''}
                                        <span class="product-badge ${availabilityStatus ? '' : 'unavailable'}">${availabilityStatus ? '✅ Available' : '❌ Unavailable'}</span>
                                    </div>
                                </div>
                                <div class="product-actions-admin">
                                    <button class="btn-edit" onclick="editProduct('${product.id}', '${type}', '${category}')">
                                        ✏️ Edit
                                    </button>
                                    <button class="btn-toggle ${availabilityStatus ? '' : 'unavailable'}" onclick="toggleProductAvailability('${product.id}', '${type}', '${category}', ${!availabilityStatus})">
                                        ${availabilityStatus ? '🔒 Hide' : '👁️ Show'}
                                    </button>
                                    <button class="btn-delete" onclick="deleteProduct('${product.id}', '${type}', '${category}')">
                                        🗑️ Delete
                                    </button>
                                </div>
                            `;
                            container.appendChild(div);
                        });
                    });
                }
            });
            
            if (!hasProducts) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 3rem; color: var(--text-secondary); background: var(--bg-secondary); border-radius: 15px; border: 1px solid var(--border-color);">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">💎</div>
                        <h4 style="margin-bottom: 0.5rem; color: var(--text-primary);">No Products Yet</h4>
                        <p>Start by adding your first jewelry product to the inventory</p>
                    </div>
                `;
            }
        }

        function editProduct(productId, type, category) {
            // Find the product in the nested structure
            let product = null;
            if (products[type] && products[type][category]) {
                // Try direct access first
                product = products[type][category][productId];
                
                // If not found, search through all products in the category
                if (!product) {
                    Object.values(products[type][category]).forEach(p => {
                        if (p.id === productId) {
                            product = p;
                        }
                    });
                }
            }
            
            if (product) {
                editingProductId = productId;
                editingProductType = type;
                editingProductCategory = category;
                
                document.getElementById('productName').value = product.name || '';
                document.getElementById('productWeight').value = product.weight || '';
                document.getElementById('productType').value = product.type || type;
                document.getElementById('productCategory').value = product.category || category;
                document.getElementById('productImage').value = product.image || '';
                document.getElementById('productDescription').value = product.description || '';
                document.getElementById('productDiscount').value = product.discount || 0;
                document.getElementById('productFeatured').value = product.featured ? 'true' : 'false';
                
                showAddProductForm();
                
                // Update form title to indicate editing
                const formTitle = document.querySelector('#addProductForm h4');
                if (formTitle) {
                    formTitle.innerHTML = '✏️ Edit Product';
                }
            } else {
                showMessage('❌ Product not found for editing', 'error');
            }
        }

        function toggleProductAvailability(productId, type, category, newAvailability) {
            const productRef = window.dbRef(window.db, `products/${type}/${category}/${productId}/available`);
            window.dbUpdate(window.dbRef(window.db), {
                [`products/${type}/${category}/${productId}/available`]: newAvailability
            }).then(() => {
                showMessage(`✅ Product ${newAvailability ? 'shown' : 'hidden'} successfully!`, 'success');
                loadProductsList();
            }).catch(err => {
                showMessage('❌ Error updating product: ' + err.message, 'error');
            });
        }

        function deleteProduct(productId, type, category) {
            if (confirm('Are you sure you want to delete this product? This action cannot be undone.')) {
                const productRef = window.dbRef(window.db, `products/${type}/${category}/${productId}`);
                window.dbRemove(productRef).then(() => {
                    showMessage('✅ Product deleted successfully!', 'success');
                    loadProductsList();
                }).catch(err => {
                    showMessage('❌ Error deleting product: ' + err.message, 'error');
                });
            }
        }

        function logout() {
            isLoggedIn = false;
            document.getElementById('adminLogin').classList.remove('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('loginForm').reset();
        }

        // Theme toggle functionality
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.textContent = newTheme === 'dark' ? '☀️' : '🌙';
        }

        // Image modal functions
        function openImageModal(imageSrc, altText) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            
            modalImage.src = imageSrc;
            modalImage.alt = altText;
            modalImage.classList.remove('zoomed');
            modal.classList.add('active');
            
            // Add zoom functionality
            modalImage.onclick = function() {
                this.classList.toggle('zoomed');
            };
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
        }

        // Close modal on background click
        document.getElementById('imageModal').onclick = function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        };

        // Show success message
        function showMessage(message, type = 'success') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `${type}-message`;
            messageDiv.innerHTML = `
                <span class="message-icon">${type === 'success' ? '✅' : '❌'}</span>
                <span>${message}</span>
            `;
            
            // Find the appropriate container
            const activeForm = document.querySelector('.admin-form:not(.hidden)') || document.querySelector('.admin-form');
            if (activeForm) {
                activeForm.insertBefore(messageDiv, activeForm.firstChild);
                
                // Remove message after 3 seconds
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.parentNode.removeChild(messageDiv);
                    }
                }, 3000);
            }
        }

        // Generate sparkle effects
        function createSparkles() {
            const sparkleContainer = document.getElementById('sparkleContainer');
            
            function addSparkle() {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 3 + 's';
                sparkle.style.animationDuration = (Math.random() * 2 + 2) + 's';
                
                sparkleContainer.appendChild(sparkle);
                
                // Remove sparkle after animation
                setTimeout(() => {
                    if (sparkle.parentNode) {
                        sparkle.parentNode.removeChild(sparkle);
                    }
                }, 5000);
            }
            
            // Create initial sparkles
            for (let i = 0; i < 15; i++) {
                setTimeout(addSparkle, i * 200);
            }
            
            // Continue creating sparkles
            setInterval(addSparkle, 800);
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Load cart and wishlist from localStorage
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
            
            // Load theme from localStorage
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            document.getElementById('themeToggle').textContent = savedTheme === 'dark' ? '☀️' : '🌙';
            
            // Start dynamic background effects
            createSparkles();
            
            initializeApp();
            showPage('home');
        });
    
// Sync rates display in separate rates bar
function syncRatesBar() {
    document.getElementById("goldRate24KBar").innerText = document.getElementById("goldRate24K").innerText;
    document.getElementById("goldRate22KBar").innerText = document.getElementById("goldRate22K").innerText;
    document.getElementById("goldRate18KBar").innerText = document.getElementById("goldRate18K").innerText;
    document.getElementById("silverRateBar").innerText = document.getElementById("silverRate").innerText;
}
// Run sync every 1s to keep updated
setInterval(syncRatesBar, 1000);

</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e92a7d9222598e',t:'MTc1Nzc4MjQ2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
// Sync rates display in separate rates bar
function syncRatesBar() {
    document.getElementById("goldRate24KBar").innerText = document.getElementById("goldRate24K").innerText;
    document.getElementById("goldRate22KBar").innerText = document.getElementById("goldRate22K").innerText;
    document.getElementById("goldRate18KBar").innerText = document.getElementById("goldRate18K").innerText;
    document.getElementById("silverRateBar").innerText = document.getElementById("silverRate").innerText;
}
// Run sync every 1s to keep updated
setInterval(syncRatesBar, 1000);

</script></body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varnika Jewellers - Premium Gold & Silver Jewelry</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Main background colors - Controls the overall page appearance */
            --color-bg-main: #ffffff; /* Primary page background - Used in: body background, main website background for light theme */
            --color-bg-secondary: #f8fffe; /* Secondary sections and cards - Used in: product cards (.card), feature sections (.features), content areas (.about), admin forms (.admin-form) */
            
            /* Text colors - Controls all text visibility and readability */
            --color-text-main: #2c3e50; /* Default body text - Used in: body text, paragraphs, product descriptions (.product-description), general content, cart item details */
            --color-text-heading: #20b2aa; /* Main headings and titles - Used in: website name (.logo), page titles (.section-title), primary headings (h1, h2), product titles (.product-title), admin panel headings */
            --color-text-subheading: #2c3e50; /* Subheadings and section titles - Used in: section headings (h3, h4), secondary titles, feature titles (.feature-title), category names */
            --color-text-label: #2c3e50; /* Form labels and field names - Used in: input labels, product weight text, product details labels, form field names in admin panel */
            --color-text-placeholder: #95a5a6; /* Placeholder text in inputs - Used in: input field placeholder text, form hints, search box placeholders */
            --color-text-muted: #5a6c7d; /* Secondary info and muted text - Used in: product descriptions, additional info text, testimonial text, less important details, cart item descriptions */
            
            /* Link colors - Controls navigation and clickable elements */
            --color-link: #20b2aa; /* Default link color - Used in: navigation links (.nav-links a), footer links, breadcrumb links, text links within content */
            --color-link-hover: #1a9b94; /* Link hover state - Used in: navigation links on hover (.nav-links a:hover), footer links on hover, any clickable text on hover */
            
            /* Button colors - Controls all interactive buttons throughout the site */
            --color-btn-primary-bg: linear-gradient(135deg, #20b2aa 0%, #1a9b94 100%); /* Primary button background - Used in: "Add to Cart" buttons (.btn-primary), "Update Rates" button, login button, main action buttons */
            --color-btn-primary-text: #ffffff; /* Primary button text - Used in: text color on primary buttons for readability and contrast */
            --color-btn-secondary-bg: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); /* Secondary button background - Used in: "Remove" buttons (.btn-secondary), delete buttons, wishlist remove buttons, cancel buttons */
            --color-btn-secondary-text: #ffffff; /* Secondary button text - Used in: text color on secondary buttons for contrast and visibility */
            
            /* Input field colors - Controls form elements and user input areas */
            --color-input-bg: #ffffff; /* Input field background - Used in: text inputs, select dropdowns (.carat-select), textarea fields, admin form inputs */
            --color-input-text: #2c3e50; /* Input field text - Used in: text color inside input fields, dropdown selections, user-entered content */
            --color-input-border: #e1f5fe; /* Input field border - Used in: border around input fields, form elements, select dropdowns, textarea borders */
            
            /* Border colors - Controls visual separation and element boundaries */
            --color-border: #e1f5fe; /* General border color - Used in: card borders (.card), section dividers, product card borders, admin panel borders, modal borders */
            
            /* Footer colors - Controls bottom page section appearance */
            --color-footer-bg: #2c3e50; /* Footer background - Used in: website footer section background color */
            --color-footer-text: #ecf0f1; /* Footer text - Used in: footer content text, footer information, contact details in footer */
            --color-footer-link: #20b2aa; /* Footer links - Used in: clickable links within footer area, footer navigation links, footer contact links */
            
            /* Theme system colors (existing) */
            --primary-color: #20b2aa;
            --secondary-color: #48d1cc;
            --accent-color: #00ced1;
            --bg-primary: var(--color-bg-main);
            --bg-secondary: var(--color-bg-secondary);
            --text-primary: var(--color-text-main);
            --text-secondary: var(--color-text-muted);
            --border-color: var(--color-border);
            --shadow-light: rgba(32, 178, 170, 0.1);
            --shadow-medium: rgba(32, 178, 170, 0.2);
            --card-bg: var(--color-bg-secondary);
            --navbar-bg: linear-gradient(135deg, #20b2aa 0%, #48d1cc 100%);
        }

        [data-theme="dark"] {
            /* Main background colors - Dark theme page appearance for better night viewing */
            --color-bg-main: #1a1a1a; /* Primary page background - Used in: body background, main website background for comfortable night browsing in dark mode */
            --color-bg-secondary: #2d2d2d; /* Secondary sections and cards - Used in: product cards (.card), feature sections (.features), content areas (.about), admin forms (.admin-form) in dark mode */
            
            /* Text colors - Dark theme text for optimal readability on dark backgrounds */
            --color-text-main: #ecf0f1; /* Default body text - Used in: body text, paragraphs, product descriptions (.product-description), general content, cart item details in dark theme */
            --color-text-heading: #20b2aa; /* Main headings and titles - Used in: website name (.logo), page titles (.section-title), primary headings (h1, h2), product titles (.product-title), admin panel headings in dark theme */
            --color-text-subheading: #ecf0f1; /* Subheadings and section titles - Used in: section headings (h3, h4), secondary titles, feature titles (.feature-title), category names in dark mode */
            --color-text-label: #ecf0f1; /* Form labels and field names - Used in: input labels, product weight text, product details labels, form field names in admin panel in dark theme */
            --color-text-placeholder: #7f8c8d; /* Placeholder text in inputs - Used in: input field placeholder text, form hints, search box placeholders in dark mode */
            --color-text-muted: #a0a0a0; /* Secondary info and muted text - Used in: product descriptions, additional info text, testimonial text, less important details, cart item descriptions in dark theme */
            
            /* Link colors - Dark theme navigation and clickable elements */
            --color-link: #20b2aa; /* Default link color - Used in: navigation links (.nav-links a), footer links, breadcrumb links, text links within content in dark theme */
            --color-link-hover: #1a9b94; /* Link hover state - Used in: navigation links on hover (.nav-links a:hover), footer links on hover, any clickable text on hover in dark mode */
            
            /* Button colors - Dark theme interactive buttons with proper contrast */
            --color-btn-primary-bg: linear-gradient(135deg, #20b2aa 0%, #1a9b94 100%); /* Primary button background - Used in: "Add to Cart" buttons (.btn-primary), "Update Rates" button, login button, main action buttons in dark theme */
            --color-btn-primary-text: #ffffff; /* Primary button text - Used in: text color on primary buttons for maximum contrast and readability in dark theme */
            --color-btn-secondary-bg: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); /* Secondary button background - Used in: "Remove" buttons (.btn-secondary), delete buttons, wishlist remove buttons, cancel buttons in dark theme */
            --color-btn-secondary-text: #ffffff; /* Secondary button text - Used in: text color on secondary buttons for clear visibility and contrast in dark mode */
            
            /* Input field colors - Dark theme form elements with proper contrast */
            --color-input-bg: #2d2d2d; /* Input field background - Used in: text inputs, select dropdowns (.carat-select), textarea fields, admin form inputs in dark theme */
            --color-input-text: #ecf0f1; /* Input field text - Used in: text color inside input fields, dropdown selections, user-entered content in dark theme */
            --color-input-border: #404040; /* Input field border - Used in: border around input fields, form elements, select dropdowns, textarea borders in dark mode */
            
            /* Border colors - Dark theme visual separation with subtle contrast */
            --color-border: #404040; /* General border color - Used in: card borders (.card), section dividers, product card borders, admin panel borders, modal borders in dark theme */
            
            /* Footer colors - Dark theme footer section with consistent styling */
            --color-footer-bg: #1a1a1a; /* Footer background - Used in: website footer section background color matching main background in dark mode */
            --color-footer-text: #ecf0f1; /* Footer text - Used in: footer content text, footer information, contact details in footer in dark theme */
            --color-footer-link: #20b2aa; /* Footer links - Used in: clickable links within footer area, footer navigation links, footer contact links in dark mode */
            
            /* Theme system colors (existing) */
            --primary-color: #20b2aa;
            --secondary-color: #48d1cc;
            --accent-color: #00ced1;
            --bg-primary: var(--color-bg-main);
            --bg-secondary: var(--color-bg-secondary);
            --text-primary: var(--color-text-main);
            --text-secondary: var(--color-text-muted);
            --border-color: var(--color-border);
            --shadow-light: rgba(32, 178, 170, 0.2);
            --shadow-medium: rgba(32, 178, 170, 0.3);
            --card-bg: var(--color-bg-secondary);
            --navbar-bg: linear-gradient(135deg, #1a4a47 0%, #2d5a57 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.18) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(255, 179, 71, 0.10) 0%, transparent 50%);
            z-index: -3;
            pointer-events: none;
            animation: backgroundShift 20s ease-in-out infinite;
        }

        [data-theme="dark"] body::before {
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(255, 179, 71, 0.05) 0%, transparent 50%);
        }

        @keyframes backgroundShift {
            0%, 100% { 
                background: 
                    radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.18) 0%, transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.12) 0%, transparent 50%);
            }
            50% { 
                background: 
                    radial-gradient(circle at 70% 30%, rgba(255, 215, 0, 0.20) 0%, transparent 50%),
                    radial-gradient(circle at 30% 70%, rgba(32, 178, 170, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 60% 60%, rgba(192, 192, 192, 0.18) 0%, transparent 50%);
            }
        }

        [data-theme="dark"] @keyframes backgroundShift {
            0%, 100% { 
                background: 
                    radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(32, 178, 170, 0.12) 0%, transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(192, 192, 192, 0.06) 0%, transparent 50%);
            }
            50% { 
                background: 
                    radial-gradient(circle at 70% 30%, rgba(255, 215, 0, 0.12) 0%, transparent 50%),
                    radial-gradient(circle at 30% 70%, rgba(32, 178, 170, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 60% 60%, rgba(192, 192, 192, 0.10) 0%, transparent 50%);
            }
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='jewelry-pattern' x='0' y='0' width='120' height='120' patternUnits='userSpaceOnUse'%3E%3Ccircle cx='20' cy='20' r='2' fill='%23ffd700' fill-opacity='0.18'/%3E%3Ccircle cx='60' cy='60' r='1.5' fill='%2320b2aa' fill-opacity='0.15'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23c0c0c0' fill-opacity='0.12'/%3E%3Cpath d='M40,40 L45,35 L50,40 L45,45 Z' fill='%23ffd700' fill-opacity='0.10'/%3E%3Cpath d='M80,20 L85,15 L90,20 L85,25 Z' fill='%2320b2aa' fill-opacity='0.08'/%3E%3Cpath d='M20,80 L25,75 L30,80 L25,85 Z' fill='%23c0c0c0' fill-opacity='0.06'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23jewelry-pattern)'/%3E%3C/svg%3E");
            z-index: -2;
            pointer-events: none;
            animation: patternFloat 30s linear infinite;
        }

        [data-theme="dark"] body::after {
            background-image: 
                url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='jewelry-pattern' x='0' y='0' width='120' height='120' patternUnits='userSpaceOnUse'%3E%3Ccircle cx='20' cy='20' r='2' fill='%23ffd700' fill-opacity='0.1'/%3E%3Ccircle cx='60' cy='60' r='1.5' fill='%2320b2aa' fill-opacity='0.08'/%3E%3Ccircle cx='100' cy='100' r='1' fill='%23c0c0c0' fill-opacity='0.06'/%3E%3Cpath d='M40,40 L45,35 L50,40 L45,45 Z' fill='%23ffd700' fill-opacity='0.05'/%3E%3Cpath d='M80,20 L85,15 L90,20 L85,25 Z' fill='%2320b2aa' fill-opacity='0.04'/%3E%3Cpath d='M20,80 L25,75 L30,80 L25,85 Z' fill='%23c0c0c0' fill-opacity='0.03'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23jewelry-pattern)'/%3E%3C/svg%3E");
        }

        @keyframes patternFloat {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-10px, -10px) rotate(90deg); }
            50% { transform: translate(0, -20px) rotate(180deg); }
            75% { transform: translate(10px, -10px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        /* Floating jewelry elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            font-size: 2rem;
            opacity: 0.2;
            animation: float-around 25s linear infinite;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        [data-theme="dark"] .floating-element {
            opacity: 0.1;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .floating-element:nth-child(1) { left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { left: 20%; animation-delay: -5s; }
        .floating-element:nth-child(3) { left: 30%; animation-delay: -10s; }
        .floating-element:nth-child(4) { left: 40%; animation-delay: -15s; }
        .floating-element:nth-child(5) { left: 50%; animation-delay: -20s; }
        .floating-element:nth-child(6) { left: 60%; animation-delay: -3s; }
        .floating-element:nth-child(7) { left: 70%; animation-delay: -8s; }
        .floating-element:nth-child(8) { left: 80%; animation-delay: -13s; }
        .floating-element:nth-child(9) { left: 90%; animation-delay: -18s; }

        @keyframes float-around {
            0% { 
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% { 
                opacity: 0.1;
            }
            90% { 
                opacity: 0.1;
            }
            100% { 
                transform: translateY(-100px) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }

        /* Sparkle effects */
        .sparkle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #ffd700 0%, transparent 70%);
            border-radius: 50%;
            animation: sparkle 3s linear infinite;
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
        }

        [data-theme="dark"] .sparkle {
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
        }

        @keyframes sparkle {
            0%, 100% { 
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% { 
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
        }

        /* Dynamic gradient overlay for different sections */
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.1) 50%, transparent 70%),
                radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            animation: heroShimmer 8s ease-in-out infinite;
        }

        @keyframes heroShimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            font-size: 1.5rem;
        }

        .loading-spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #dc3545;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            text-align: center;
            padding: 2rem;
        }

        /* Navigation */
        .navbar {
            background: var(--navbar-bg);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px var(--shadow-medium);
            backdrop-filter: blur(10px);
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            position: relative;
            min-height: 60px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ffd700, #ffb347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-center {
            display: flex;
            align-items: center;
            gap: 2rem;
            flex: 1;
            justify-content: center;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 500;
        }

        .nav-links a:hover {
            background: rgba(255,215,0,0.2);
            color: #ffd700;
            transform: translateY(-2px);
        }

        .rates-display {
            background: rgba(255,215,0,0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(255,215,0,0.3);
        }

        .rates-display span {
            margin: 0 0.5rem;
            color: #ffd700;
            font-weight: bold;
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            flex-direction: column;
            width: 100%;
            background: rgba(0,0,0,0.95);
            border-radius: 0 0 15px 15px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,215,0,0.2);
            border-top: none;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.3s ease,
                        transform 0.3s ease;
            opacity: 0;
            transform: translateY(-10px);
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .mobile-menu.active {
            display: flex;
            max-height: 400px;
            opacity: 1;
            transform: translateY(0);
            padding: 1rem 1.5rem;
        }

        .mobile-menu a {
            color: white;
            text-decoration: none;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            margin: 0.2rem 0;
            transition: all 0.3s ease;
            font-weight: 500;
            border: 1px solid transparent;
            font-size: 0.95rem;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .mobile-menu a:hover,
        .mobile-menu a:active {
            background: rgba(255,215,0,0.2);
            border-color: rgba(255,215,0,0.3);
            transform: translateX(3px);
        }

        .mobile-rates {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,215,0,0.2);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }

        .mobile-rates div {
            padding: 0.4rem 0.6rem;
            font-size: 0.8rem;
            color: #ffd700;
            font-weight: 600;
            background: rgba(255,215,0,0.1);
            border-radius: 6px;
            text-align: center;
        }

        .menu-toggle {
            display: none;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 0.6rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            width: 45px;
            height: 45px;
            align-items: center;
            justify-content: center;
        }

        .menu-toggle:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .skeleton-text {
            height: 1rem;
            border-radius: 4px;
            margin: 0.5rem 0;
        }

        .skeleton-title {
            height: 2rem;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .skeleton-card {
            height: 300px;
            border-radius: 8px;
            margin: 1rem 0;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            animation: float 6s ease-in-out infinite;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-gold {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #333;
        }

        .btn-silver {
            background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%);
            color: #333;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            gap: 2rem;
            margin: 2rem 0;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .grid-5 {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }

        /* Responsive Grid Adjustments */
        @media (max-width: 1200px) {
            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
                gap: 1.5rem;
            }
        }

        @media (max-width: 900px) {
            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 1.2rem;
            }
            
            .grid-2 {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
            }
        }

        @media (max-width: 600px) {
            .grid {
                gap: 1rem;
                margin: 1.5rem 0;
            }
            
            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
            
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 400px) {
            .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .product-card {
            text-align: center;
        }

        .product-image {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .product-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .product-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .product-details {
            margin-bottom: 1rem;
        }

        .product-details p {
            margin: 0.5rem 0;
        }

        .carat-select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 0.5rem 0;
        }

        .product-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c5aa0;
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .btn-primary {
            background: #2c5aa0;
            color: white;
            flex: 1;
        }

        .btn-secondary {
            background: #dc3545;
            color: white;
            padding: 0.5rem 1rem;
        }

        /* Category Buttons */
        .category-buttons {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-btn {
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
        }

        .category-btn.gold {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #333;
        }

        .category-btn.silver {
            background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%);
            color: #333;
        }

        .category-btn:hover {
            transform: scale(1.05);
        }

        /* Cart and Wishlist */
        .cart-item {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .cart-item-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 1;
        }

        .cart-item-image {
            font-size: 2rem;
        }

        .cart-item-details h4 {
            margin-bottom: 0.5rem;
        }

        .cart-item-details p {
            color: #666;
            font-size: 0.9rem;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            background: #f0f0f0;
            border: none;
            padding: 0.5rem;
            border-radius: 5px;
            cursor: pointer;
            width: 35px;
            height: 35px;
        }

        .quantity-btn:hover {
            background: #e0e0e0;
        }

        .cart-total {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .checkout-btn {
            background: #28a745;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checkout-btn:hover {
            background: #218838;
            transform: scale(1.05);
        }

        /* Admin Panel */
        .admin-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .nav-center {
                gap: 1rem;
            }
            
            .nav-links {
                gap: 1rem;
            }
            
            .nav-links a {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }
            
            .container {
                padding: 0 16px;
            }
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }

            .nav-links {
                display: none;
            }

            .nav-center {
                display: none;
            }

            .nav-content {
                justify-content: space-between;
                align-items: center;
            }

            .hero {
                padding: 3rem 0;
            }

            .hero h1 {
                font-size: 2.5rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 1.1rem;
                padding: 0 1rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .btn {
                width: 100%;
                max-width: 280px;
                padding: 1rem 1.5rem;
                font-size: 1rem;
                min-height: 48px;
            }

            .category-buttons {
                flex-direction: column;
                gap: 0.8rem;
                padding: 0 1rem;
            }

            .category-btn {
                min-width: auto;
                padding: 1rem;
                font-size: 1rem;
                min-height: 48px;
            }

            .cart-item {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
                padding: 1.5rem;
            }

            .cart-item-info {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem;
            }

            .product-actions {
                flex-direction: column;
                gap: 0.8rem;
            }

            .product-actions .btn {
                min-height: 48px;
                font-size: 1rem;
            }

            .footer-content {
                grid-template-columns: 1fr 1fr;
                gap: 2rem;
            }

            .footer-section:first-child {
                grid-column: 1 / -1;
                text-align: center;
                margin-bottom: 1rem;
            }
            
            .page {
                padding: 1.5rem 0;
            }
        }

        @media (max-width: 600px) {
            .container {
                padding: 0 12px;
            }

            .hero {
                padding: 2.5rem 0;
            }

            .hero h1 {
                font-size: 2.2rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 1rem;
                padding: 0 1.5rem;
            }

            .card {
                padding: 1.2rem;
                margin-bottom: 1rem;
            }

            .product-image {
                font-size: 3rem;
            }

            .product-title {
                font-size: 1.1rem;
            }

            .product-description {
                font-size: 0.9rem;
            }

            .category-btn {
                padding: 0.9rem;
                font-size: 0.95rem;
            }

            .btn {
                padding: 0.9rem 1.2rem;
                font-size: 0.95rem;
            }

            .cart-total {
                padding: 1.5rem;
            }

            .checkout-btn {
                padding: 1rem 1.5rem;
                font-size: 1rem;
                min-height: 48px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .footer-section:first-child {
                grid-column: auto;
                margin-bottom: 0;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }

            .navbar {
                padding: 0.8rem 0;
            }

            .logo {
                font-size: 1.4rem;
            }

            .hero {
                padding: 2rem 0;
            }

            .hero h1 {
                font-size: 1.8rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 0.9rem;
                padding: 0 1rem;
            }

            .card {
                padding: 1rem;
                margin-bottom: 0.8rem;
            }

            .product-image {
                font-size: 2.5rem;
            }

            .product-title {
                font-size: 1rem;
            }

            .product-description {
                font-size: 0.85rem;
            }

            .category-btn {
                padding: 0.8rem;
                font-size: 0.9rem;
            }

            .btn {
                padding: 0.8rem 1rem;
                font-size: 0.9rem;
            }

            .cart-total {
                padding: 1.2rem;
            }

            .checkout-btn {
                padding: 0.9rem 1.2rem;
                font-size: 0.95rem;
                min-height: 44px;
            }

            .footer-logo {
                font-size: 1.3rem;
            }

            .footer-contact p {
                flex-direction: column;
                gap: 0.3rem;
                text-align: left;
            }

            .footer-links a:hover {
                transform: none;
                padding-left: 0;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
            
            .page {
                padding: 1rem 0;
            }
        }

        @media (max-width: 360px) {
            .container {
                padding: 0 8px;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            
            .hero h1 {
                font-size: 1.6rem;
            }
            
            .hero p {
                font-size: 0.85rem;
            }
            
            .card {
                padding: 0.8rem;
            }
            
            .product-image {
                font-size: 2rem;
            }
        }

        /* Footer Styles */
        .footer {
            background: linear-gradient(135deg, #1a1a1a 0%, #123c3c 100%);
            color: var(--color-footer-text);
            padding: 4rem 0 2rem;
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffd700' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            z-index: 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1.5fr;
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
            z-index: 1;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .footer-logo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ffd700, #ffb347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .footer-tagline {
            color: #ffd700;
            font-style: italic;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .footer-description {
            color: var(--color-footer-text);
            line-height: 1.6;
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .footer-title {
            color: #ffd700;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-title::before {
            content: '';
            width: 3px;
            height: 20px;
            background: linear-gradient(135deg, #ffd700, #ffb347);
            border-radius: 2px;
        }

        .footer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-links a {
            color: var(--color-footer-text);
            text-decoration: none;
            transition: all 0.3s ease;
            padding: 0.3rem 0;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .footer-links a:hover {
            color: #ffd700;
            transform: translateX(5px);
            padding-left: 0.5rem;
        }

        .footer-contact {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .footer-contact p {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .contact-icon {
            font-size: 1.1rem;
            min-width: 20px;
            color: #ffd700;
        }

        .contact-link {
            color: var(--color-footer-text);
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .contact-link:hover {
            color: #ffd700;
            border-bottom-color: #ffd700;
        }

        .contact-text {
            color: var(--color-footer-text);
            opacity: 0.9;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 215, 0, 0.2);
            padding-top: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .footer-copyright {
            color: var(--color-footer-text);
            opacity: 0.8;
            font-size: 0.9rem;
        }



        /* Footer Responsive Design */
        @media (max-width: 1024px) {
            .footer-content {
                grid-template-columns: 1fr 1fr;
                gap: 2rem;
            }

            .footer-section:first-child {
                grid-column: 1 / -1;
                text-align: center;
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 768px) {
            .footer {
                padding: 3rem 0 1.5rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .footer-section:first-child {
                grid-column: auto;
                margin-bottom: 0;
            }

            .footer-links a:hover {
                transform: none;
                padding-left: 0;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .footer-logo {
                font-size: 1.5rem;
            }



            .footer-contact p {
                flex-direction: column;
                gap: 0.3rem;
                text-align: left;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mb-2 {
            margin-bottom: 2rem;
        }

        .mt-2 {
            margin-top: 2rem;
        }

        .page {
            min-height: 80vh;
            padding: 2rem 0;
        }

        .empty-state {
            text-align: center;
            color: #666;
            font-size: 1.1rem;
            padding: 3rem;
        }
    
/* Extra Mobile Compatibility Fixes */
@media (max-width: 600px) {
    .hero h1 {
        font-size: 1.8rem !important;
    }
    .hero p {
        font-size: 0.9rem !important;
    }
    .nav-links {
        display: none !important;
    }
    .menu-toggle {
        display: flex !important;
    }
    .container {
        padding: 0 10px !important;
    }
    .card {
        padding: 1rem !important;
    }
    .product-image {
        height: 150px !important;
    }
    .category-buttons {
        flex-direction: column !important;
        gap: 0.6rem !important;
    }
    .btn {
        font-size: 0.9rem !important;
        padding: 0.7rem 1rem !important;
        width: 100% !important;
    }
}


/* Rates Bar Styling */
.rates-bar {
    background: rgba(255, 215, 0, 0.1);
    border-top: 1px solid rgba(255, 215, 0, 0.3);
    border-bottom: 1px solid rgba(255, 215, 0, 0.3);
    padding: 0.6rem 0;
    text-align: center;
    font-size: 0.9rem;
    color: #ffd700;
    font-weight: 600;
    position: sticky;
    top: 60px;
    z-index: 999;
}

.rates-bar span {
    margin: 0 0.5rem;
    color: #ffd700;
}

</style>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getDatabase, ref, onValue, update } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyC6soummxs9nthkL7A5vhUn-XqL5LiY3fE",
            authDomain: "websdatarates.firebaseapp.com",
            databaseURL: "https://websdatarates-default-rtdb.firebaseio.com",
            projectId: "websdatarates",
            storageBucket: "websdatarates.firebasestorage.app",
            messagingSenderId: "879792641903",
            appId: "1:879792641903:web:672c900d264960f7b7fa9a",
            measurementId: "G-8183Q5DYDB"
        };
        
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        window.db = db;
        window.dbRef = ref;
        window.dbOnValue = onValue;
        window.dbUpdate = update;
    
// Sync rates display in separate rates bar
function syncRatesBar() {
    document.getElementById("goldRate24KBar").innerText = document.getElementById("goldRate24K").innerText;
    document.getElementById("goldRate22KBar").innerText = document.getElementById("goldRate22K").innerText;
    document.getElementById("goldRate18KBar").innerText = document.getElementById("goldRate18K").innerText;
    document.getElementById("silverRateBar").innerText = document.getElementById("silverRate").innerText;
}
// Run sync every 1s to keep updated
setInterval(syncRatesBar, 1000);

</script>
</head>
<body>




    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">



                <div class="mobile-menu" id="mobileMenu">
                    <a href="#" onclick="showPage('home')">🏠 Home</a>
                    <a href="#" onclick="showPage('gold')">🥇 Gold</a>
                    <a href="#" onclick="showPage('silver')">🥈 Silver</a>
                    <a href="#" onclick="showPage('cart')">🛒 Cart (<span id="cartCountMobile">0</span>)</a>
                    <a href="#" onclick="showPage('wishlist')">❤️ Wishlist</a>
                    <a href="#" onclick="showPage('admin')">⚙️ Admin</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="homePage" class="page">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1 id="heroTitle">
                    <div class="skeleton skeleton-title" style="width: 400px; margin: 0 auto;"></div>
                </h1>
                <p id="heroSubtitle">
                    <div class="skeleton skeleton-text" style="width: 500px; margin: 0 auto;"></div>
                </p>
                <div class="hero-buttons">
                    <button class="btn btn-gold" onclick="showPage('gold')" id="goldButton">
                        <div class="skeleton skeleton-text" style="width: 150px; height: 20px;"></div>
                    </button>
                    <button class="btn btn-silver" onclick="showPage('silver')" id="silverButton">
                        <div class="skeleton skeleton-text" style="width: 150px; height: 20px;"></div>
                    </button>
                </div>
            </div>
        </section>

        <!-- Collections Preview -->
        <section class="container">
            <h3 class="text-center mb-2" id="collectionsTitle">
                <div class="skeleton skeleton-title" style="width: 300px; margin: 0 auto;"></div>
            </h3>
            <div class="grid grid-2">
                <div class="card" style="background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%); cursor: pointer;" onclick="showPage('gold')">
                    <h4 id="goldCollectionTitle">
                        <div class="skeleton skeleton-text" style="width: 200px; height: 24px;"></div>
                    </h4>
                    <p id="goldCollectionDesc">
                        <div class="skeleton skeleton-text" style="width: 250px; height: 16px;"></div>
                    </p>
                </div>
                <div class="card" style="background: linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%); cursor: pointer;" onclick="showPage('silver')">
                    <h4 id="silverCollectionTitle">
                        <div class="skeleton skeleton-text" style="width: 200px; height: 24px;"></div>
                    </h4>
                    <p id="silverCollectionDesc">
                        <div class="skeleton skeleton-text" style="width: 250px; height: 16px;"></div>
                    </p>
                </div>
            </div>
        </section>
    </div>

    <!-- Gold Page -->
    <div id="goldPage" class="page hidden">
        <div class="container">
            <h2 class="text-center mb-2">Gold Collection</h2>
            <div class="category-buttons" id="goldCategories">
                <!-- Categories will be loaded from Firebase -->
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
            </div>
            <div id="goldProducts" class="grid grid-4">
                <!-- Skeleton loading for products -->
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
            </div>
        </div>
    </div>

    <!-- Silver Page -->
    <div id="silverPage" class="page hidden">
        <div class="container">
            <h2 class="text-center mb-2">Silver Collection</h2>
            <div class="category-buttons" id="silverCategories">
                <!-- Categories will be loaded from Firebase -->
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
                <div class="skeleton skeleton-card" style="height: 60px; flex: 1; min-width: 150px;"></div>
            </div>
            <div id="silverProducts" class="grid grid-4">
                <!-- Skeleton loading for products -->
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cartPage" class="page hidden">
        <div class="container">
            <h2 class="text-center mb-2">Shopping Cart</h2>
            <div id="cartItems">
                <div class="empty-state">Your cart is empty</div>
            </div>
            <div class="cart-total">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;">
                    <span style="font-size: 1.5rem; font-weight: bold;">Total: ₹<span id="cartTotal">0</span></span>
                    <button class="checkout-btn" onclick="checkout()">Checkout via WhatsApp</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Wishlist Page -->
    <div id="wishlistPage" class="page hidden">
        <div class="container">
            <h2 class="text-center mb-2">Wishlist</h2>
            <div id="wishlistItems" class="grid grid-4">
                <div class="empty-state">Your wishlist is empty</div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <button class="image-modal-close" onclick="closeImageModal()">×</button>
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <!-- Admin Page -->
    <div id="adminPage" class="page hidden">
        <div class="container">
            <h2 class="text-center mb-2">Admin Panel</h2>
            <div class="admin-form">
                <h3 class="text-center mb-2">Update Live Rates</h3>
                <form id="rateForm">
                    <div class="form-group">
                        <label>Gold 24K Rate (per gram)</label>
                        <input type="number" id="newGold24" placeholder="Enter rate" required>
                    </div>
                    <div class="form-group">
                        <label>Silver Rate (per gram)</label>
                        <input type="number" id="newSilver" placeholder="Enter rate" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem;">
                        Update Rates
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">💎 Varnika Jewellers</div>
                    <p class="footer-tagline">Crafting timeless elegance since decades</p>
                    <p class="footer-description">Your trusted partner for premium gold and silver jewelry. We bring you the finest collection with certified purity and exceptional craftsmanship.</p>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#" onclick="showPage('home')">🏠 Home</a></li>
                        <li><a href="#" onclick="showPage('gold')">🥇 Gold Collection</a></li>
                        <li><a href="#" onclick="showPage('silver')">🥈 Silver Collection</a></li>
                        <li><a href="#" onclick="showPage('cart')">🛒 Shopping Cart</a></li>
                        <li><a href="#" onclick="showPage('wishlist')">❤️ Wishlist</a></li>
                        <li><a href="#" onclick="showPage('admin')">⚙️ Admin Panel</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Contact Information</h4>
                    <div class="footer-contact">
                        <p><span class="contact-icon">📱</span> WhatsApp: <a href="https://wa.me/917464870444" class="contact-link">+91 74648 70444</a></p>
                        <p><span class="contact-icon">📧</span> Email: <a href="mailto:info@varnikajewellers.com" class="contact-link">info@varnikajewellers.com</a></p>
                        <p><span class="contact-icon">📍</span> Address: <span class="contact-text">123 Jewelry Street, Gold Market, Mumbai - 400001</span></p>
                        <p><span class="contact-icon">🕒</span> Hours: <span class="contact-text">Mon-Sat 10AM-8PM</span></p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-copyright">
                    <p>© 2025 Varnika Jewellers. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let currentRates = { gold24: 0, silver: 0 };
        let siteContent = {};
        let categories = { gold: {}, silver: {} };
        let products = { gold: {}, silver: {} };
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        let whatsappNumber = '917464870444';
        let dataLoaded = false;

        // Initialize Firebase and load all data
        function initializeApp() {
            loadSiteContent();
            loadCategories();
            loadProducts();
            loadRates();
            updateCartCount();
        }

        // Load site content from Firebase
        function loadSiteContent() {
            const contentRef = window.dbRef(window.db, "siteContent");
            window.dbOnValue(contentRef, (snapshot) => {
                if (snapshot.exists()) {
                    siteContent = snapshot.val();
                    whatsappNumber = siteContent.whatsappNumber || '917464870444';
                    updateSiteContent();
                }
            });
        }

        // Update site content in DOM
        function updateSiteContent() {
            // Remove skeleton loading and update content
            const heroTitle = document.getElementById('heroTitle');
            const heroSubtitle = document.getElementById('heroSubtitle');
            const goldButton = document.getElementById('goldButton');
            const silverButton = document.getElementById('silverButton');
            const collectionsTitle = document.getElementById('collectionsTitle');
            const goldCollectionTitle = document.getElementById('goldCollectionTitle');
            const goldCollectionDesc = document.getElementById('goldCollectionDesc');
            const silverCollectionTitle = document.getElementById('silverCollectionTitle');
            const silverCollectionDesc = document.getElementById('silverCollectionDesc');
            
            // Update site name in navigation
            const siteName = document.querySelector('.logo');
            if (siteName) {
                siteName.textContent = `💎 ${siteContent.siteName || 'Varnika Jewellers'}`;
            }
            
            // Update hero section
            if (heroTitle) {
                heroTitle.innerHTML = siteContent.heroTitle || 'Welcome to Varnika Jewellers';
            }
            if (heroSubtitle) {
                heroSubtitle.innerHTML = siteContent.heroSubtitle || 'Discover our exquisite collection';
            }
            if (goldButton) {
                goldButton.innerHTML = siteContent.goldButtonText || 'Explore Gold Collection';
            }
            if (silverButton) {
                silverButton.innerHTML = siteContent.silverButtonText || 'Explore Silver Collection';
            }
            
            // Update collections section
            if (collectionsTitle) {
                collectionsTitle.innerHTML = siteContent.collectionsTitle || 'Our Collections';
            }
            if (goldCollectionTitle) {
                goldCollectionTitle.innerHTML = `🏆 ${siteContent.goldCollectionTitle || 'Gold Collection'}`;
            }
            if (goldCollectionDesc) {
                goldCollectionDesc.innerHTML = siteContent.goldCollectionDesc || 'Premium gold jewelry';
            }
            if (silverCollectionTitle) {
                silverCollectionTitle.innerHTML = `⚡ ${siteContent.silverCollectionTitle || 'Silver Collection'}`;
            }
            if (silverCollectionDesc) {
                silverCollectionDesc.innerHTML = siteContent.silverCollectionDesc || 'Elegant silver jewelry';
            }
            
            // Update footer contact information
            updateFooterContact();
        }

        // Load categories from Firebase
        function loadCategories() {
            const categoriesRef = window.dbRef(window.db, "categories");
            window.dbOnValue(categoriesRef, (snapshot) => {
                if (snapshot.exists()) {
                    categories = snapshot.val();
                    updateCategoryButtons();
                    
                    // Instantly update current page if viewing categories
                    const currentPage = document.querySelector('.page:not(.hidden)');
                    if (currentPage) {
                        const pageId = currentPage.id;
                        if (pageId === 'goldPage' && Object.keys(categories.gold || {}).length > 0) {
                            showGoldCategory(Object.keys(categories.gold)[0]);
                        } else if (pageId === 'silverPage' && Object.keys(categories.silver || {}).length > 0) {
                            showSilverCategory(Object.keys(categories.silver)[0]);
                        }
                    }
                }
            });
        }

        // Update category buttons
        function updateCategoryButtons() {
            // Gold categories
            const goldCategoriesContainer = document.getElementById('goldCategories');
            goldCategoriesContainer.innerHTML = '';
            Object.keys(categories.gold || {}).forEach(categoryKey => {
                const button = document.createElement('button');
                button.className = 'category-btn gold';
                button.textContent = categories.gold[categoryKey];
                button.onclick = () => showGoldCategory(categoryKey);
                goldCategoriesContainer.appendChild(button);
            });

            // Silver categories
            const silverCategoriesContainer = document.getElementById('silverCategories');
            silverCategoriesContainer.innerHTML = '';
            Object.keys(categories.silver || {}).forEach(categoryKey => {
                const button = document.createElement('button');
                button.className = 'category-btn silver';
                button.textContent = categories.silver[categoryKey];
                button.onclick = () => showSilverCategory(categoryKey);
                silverCategoriesContainer.appendChild(button);
            });
        }

        // Update footer contact information
        function updateFooterContact() {
            const whatsappLink = document.querySelector('a[href*="wa.me"]');
            const emailLink = document.querySelector('a[href*="mailto"]');
            const addressText = document.querySelector('.contact-text');
            
            if (whatsappLink && siteContent.whatsappNumber) {
                whatsappLink.href = `https://wa.me/${siteContent.whatsappNumber}`;
                whatsappLink.textContent = `+${siteContent.whatsappNumber.replace(/(\d{2})(\d{5})(\d{5})/, '$1 $2 $3')}`;
            }
            
            if (emailLink && siteContent.email) {
                emailLink.href = `mailto:${siteContent.email}`;
                emailLink.textContent = siteContent.email;
            }
            
            if (addressText && siteContent.address) {
                addressText.textContent = siteContent.address;
            }
        }

        // Load products from Firebase
        function loadProducts() {
            const productsRef = window.dbRef(window.db, "products");
            window.dbOnValue(productsRef, (snapshot) => {
                if (snapshot.exists()) {
                    products = snapshot.val();
                    dataLoaded = true;
                    
                    // Instantly update current page if viewing products
                    const currentPage = document.querySelector('.page:not(.hidden)');
                    if (currentPage) {
                        const pageId = currentPage.id;
                        if (pageId === 'goldPage') {
                            const activeCategory = document.querySelector('#goldCategories .category-btn.active');
                            if (activeCategory) {
                                const categoryKey = Object.keys(categories.gold || {})[Array.from(activeCategory.parentNode.children).indexOf(activeCategory)];
                                showGoldCategory(categoryKey);
                            }
                        } else if (pageId === 'silverPage') {
                            const activeCategory = document.querySelector('#silverCategories .category-btn.active');
                            if (activeCategory) {
                                const categoryKey = Object.keys(categories.silver || {})[Array.from(activeCategory.parentNode.children).indexOf(activeCategory)];
                                showSilverCategory(categoryKey);
                            }
                        }
                    }
                }
            });
        }

        // Load rates from Firebase
        function loadRates() {
            const ratesRef = window.dbRef(window.db, "rates");
            window.dbOnValue(ratesRef, (snapshot) => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    currentRates.gold24 = data.gold || 7000;
                    currentRates.silver = data.silver || 85;
                    
                    // Calculate other gold rates
                    const gold22 = Math.round(currentRates.gold24 * 0.916);
                    const gold18 = Math.round(currentRates.gold24 * 0.750);
                    
                    // Instantly update all product prices on current page
                    updateAllProductPrices();
                    
                    // Update cart prices if cart is open
                    const currentPage = document.querySelector('.page:not(.hidden)');
                    if (currentPage && currentPage.id === 'cartPage') {
                        updateCartPricesWithNewRates();
                    }
                }
            });
        }

        // Update all product prices when rates change
        function updateAllProductPrices() {
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach(card => {
                const weightText = card.querySelector('.product-details p');
                const priceElement = card.querySelector('.product-price');
                const caratSelect = card.querySelector('.carat-select');
                
                if (weightText && priceElement) {
                    const weight = parseFloat(weightText.textContent.match(/[\d.]+/)[0]);
                    const carat = caratSelect ? caratSelect.value : '24K';
                    const isSilver = card.closest('#silverProducts') !== null;
                    
                    const newPrice = calculatePrice(weight, carat, isSilver);
                    priceElement.textContent = newPrice;
                }
            });
        }

        // Update cart prices when rates change
        function updateCartPricesWithNewRates() {
            cart.forEach(item => {
                item.price = calculatePrice(item.weight, item.carat, item.type === 'silver');
            });
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
        }

        // Calculate price based on carat and weight
        function calculatePrice(weight, carat, isSilver = false) {
            if (isSilver) {
                return Math.round(weight * currentRates.silver);
            }
            
            let baseRate = currentRates.gold24;
            if (carat === '22K') baseRate = Math.round(currentRates.gold24 * 0.916);
            if (carat === '18K') baseRate = Math.round(currentRates.gold24 * 0.750);
            
            const makingCharges = Math.round(baseRate * 0.15); // 15% making charges
            const totalRate = baseRate + makingCharges;
            
            return Math.round(weight * totalRate);
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            
            mobileMenu.classList.toggle('active');
            
            // Update hamburger icon
            if (mobileMenu.classList.contains('active')) {
                menuToggle.innerHTML = '✕';
                menuToggle.style.transform = 'rotate(180deg)';
            } else {
                menuToggle.innerHTML = '☰';
                menuToggle.style.transform = 'rotate(0deg)';
            }
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            const navbar = document.querySelector('.navbar');
            
            if (mobileMenu && mobileMenu.classList.contains('active')) {
                if (!navbar.contains(event.target)) {
                    mobileMenu.classList.remove('active');
                    menuToggle.innerHTML = '☰';
                    menuToggle.style.transform = 'rotate(0deg)';
                }
            }
        });

        // Show page function
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
            document.getElementById(page + 'Page').classList.remove('hidden');
            
            // Close mobile menu and reset hamburger icon
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.menu-toggle');
            if (mobileMenu) {
                mobileMenu.classList.remove('active');
            }
            if (menuToggle) {
                menuToggle.innerHTML = '☰';
                menuToggle.style.transform = 'rotate(0deg)';
            }
            
            if (page === 'gold') showGoldCategory(Object.keys(categories.gold || {})[0] || 'chains');
            if (page === 'silver') showSilverCategory(Object.keys(categories.silver || {})[0] || 'chains');
            if (page === 'cart') updateCartDisplay();
            if (page === 'wishlist') updateWishlistDisplay();
        }

        // Show gold category
        function showGoldCategory(category) {
            const container = document.getElementById('goldProducts');
            container.innerHTML = '';
            
            if (!dataLoaded || !products.gold || !products.gold[category]) {
                // Show skeleton loading
                for (let i = 0; i < 4; i++) {
                    const skeleton = document.createElement('div');
                    skeleton.className = 'skeleton skeleton-card';
                    container.appendChild(skeleton);
                }
                return;
            }
            
            Object.values(products.gold[category]).forEach(product => {
                if (product.available) {
                    const productCard = createProductCard(product, 'gold');
                    container.appendChild(productCard);
                }
            });
        }

        // Show silver category
        function showSilverCategory(category) {
            const container = document.getElementById('silverProducts');
            container.innerHTML = '';
            
            if (!dataLoaded || !products.silver || !products.silver[category]) {
                // Show skeleton loading
                for (let i = 0; i < 4; i++) {
                    const skeleton = document.createElement('div');
                    skeleton.className = 'skeleton skeleton-card';
                    container.appendChild(skeleton);
                }
                return;
            }
            
            Object.values(products.silver[category]).forEach(product => {
                if (product.available) {
                    const productCard = createProductCard(product, 'silver');
                    container.appendChild(productCard);
                }
            });
        }

        // Create product card
        function createProductCard(product, type) {
            const div = document.createElement('div');
            div.className = 'card product-card';
            
            const isSilver = type === 'silver';
            const defaultCarat = isSilver ? 'Silver' : '24K';
            
            div.innerHTML = `
                <div class="product-image">${product.image}</div>
                <h3 class="product-title">${product.name}</h3>
                <p class="product-description">${product.description}</p>
                <div class="product-details">
                    <p><strong>Weight:</strong> ${product.weight}g</p>
                    ${!isSilver ? `
                    <div>
                        <label>Carat:</label>
                        <select class="carat-select" onchange="updateProductPrice('${product.id || Date.now()}', this.value, ${product.weight}, ${isSilver}, this)">
                            <option value="24K">24K Gold</option>
                            <option value="22K">22K Gold</option>
                            <option value="18K">18K Gold</option>
                        </select>
                    </div>
                    ` : ''}
                    <p><strong>Amount:</strong> ₹<span class="product-price">${calculatePrice(product.weight, defaultCarat, isSilver)}</span></p>
                </div>
                <div class="product-actions">
                    <button class="btn btn-primary" onclick="addToCart('${product.id || Date.now()}', '${type}', this)">
                        Add to Cart
                    </button>
                    <button class="btn btn-secondary" onclick="addToWishlist('${product.id || Date.now()}', '${type}')">
                        ❤️
                    </button>
                </div>
            `;
            
            return div;
        }

        // Update product price when carat changes
        function updateProductPrice(productId, carat, weight, isSilver, selectElement) {
            const price = calculatePrice(weight, carat, isSilver);
            const priceElement = selectElement.closest('.product-card').querySelector('.product-price');
            priceElement.textContent = price;
        }

        // Add to cart
        function addToCart(productId, type, buttonElement) {
            const productCard = buttonElement.closest('.product-card');
            const productName = productCard.querySelector('.product-title').textContent;
            const productWeight = parseFloat(productCard.querySelector('.product-details p').textContent.match(/[\d.]+/)[0]);
            const productImage = productCard.querySelector('.product-image').textContent;
            const productDescription = productCard.querySelector('.product-description').textContent;
            
            const caratSelect = productCard.querySelector('.carat-select');
            const selectedCarat = caratSelect ? caratSelect.value : (type === 'silver' ? 'Silver' : '24K');
            const price = calculatePrice(productWeight, selectedCarat, type === 'silver');
            
            const cartItem = {
                id: productId,
                name: productName,
                weight: productWeight,
                image: productImage,
                description: productDescription,
                type,
                carat: selectedCarat,
                price,
                quantity: 1
            };
            
            const existingIndex = cart.findIndex(item => item.id === productId && item.carat === selectedCarat);
            if (existingIndex >= 0) {
                cart[existingIndex].quantity++;
            } else {
                cart.push(cartItem);
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            alert('Added to cart!');
        }

        // Add to wishlist
        function addToWishlist(productId, type) {
            const existingIndex = wishlist.findIndex(item => item.id === productId);
            
            if (existingIndex >= 0) {
                alert('Already in wishlist!');
                return;
            }
            
            // Find product data
            let productData = null;
            if (products[type]) {
                Object.values(products[type]).forEach(category => {
                    Object.values(category).forEach(product => {
                        if (product.id === productId) {
                            productData = product;
                        }
                    });
                });
            }
            
            if (productData) {
                wishlist.push({ ...productData, type });
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                alert('Added to wishlist!');
            }
        }

        // Update cart count
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
            document.getElementById('cartCountMobile').textContent = count;
        }

        // Update cart display
        function updateCartDisplay() {
            const container = document.getElementById('cartItems');
            const totalElement = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                container.innerHTML = '<div class="empty-state">Your cart is empty</div>';
                totalElement.textContent = '0';
                return;
            }
            
            let total = 0;
            container.innerHTML = '';
            
            cart.forEach((item, index) => {
                total += item.price * item.quantity;
                
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <div class="cart-item-info">
                        <span class="cart-item-image">${item.image}</span>
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>${item.carat} • ${item.weight}g • ₹${item.price}</p>
                        </div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, -1)">-</button>
                        <span style="padding: 0 1rem;">${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateCartQuantity(${index}, 1)">+</button>
                        <button class="btn btn-secondary" onclick="removeFromCart(${index})" style="margin-left: 1rem;">Remove</button>
                    </div>
                `;
                container.appendChild(div);
            });
            
            totalElement.textContent = total;
        }

        // Update cart quantity
        function updateCartQuantity(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            updateCartCount();
        }

        // Remove from cart
        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            updateCartCount();
        }

        // Update wishlist display
        function updateWishlistDisplay() {
            const container = document.getElementById('wishlistItems');
            
            if (wishlist.length === 0) {
                container.innerHTML = '<div class="empty-state">Your wishlist is empty</div>';
                return;
            }
            
            container.innerHTML = '';
            wishlist.forEach((item, index) => {
                const productCard = createWishlistCard(item, index);
                container.appendChild(productCard);
            });
        }

        // Create wishlist card
        function createWishlistCard(product, index) {
            const div = document.createElement('div');
            div.className = 'card product-card';
            
            div.innerHTML = `
                <div class="product-image">${product.image}</div>
                <h3 class="product-title">${product.name}</h3>
                <p class="product-description">${product.description}</p>
                <p><strong>Weight:</strong> ${product.weight}g</p>
                <div class="product-actions">
                    <button class="btn btn-primary" onclick="moveToCart('${product.id}', '${product.type}', ${index})">
                        Move to Cart
                    </button>
                    <button class="btn btn-secondary" onclick="removeFromWishlist(${index})">
                        Remove
                    </button>
                </div>
            `;
            
            return div;
        }

        // Move to cart from wishlist
        function moveToCart(productId, type, wishlistIndex) {
            const wishlistItem = wishlist[wishlistIndex];
            const cartItem = {
                ...wishlistItem,
                carat: type === 'silver' ? 'Silver' : '24K',
                price: calculatePrice(wishlistItem.weight, type === 'silver' ? 'Silver' : '24K', type === 'silver'),
                quantity: 1
            };
            
            const existingIndex = cart.findIndex(item => item.id === productId && item.carat === cartItem.carat);
            if (existingIndex >= 0) {
                cart[existingIndex].quantity++;
            } else {
                cart.push(cartItem);
            }
            
            wishlist.splice(wishlistIndex, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateCartCount();
            updateWishlistDisplay();
            alert('Moved to cart!');
        }

        // Remove from wishlist
        function removeFromWishlist(index) {
            wishlist.splice(index, 1);
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistDisplay();
        }

        // Checkout function
        function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            // Get WhatsApp number from Firebase site content
            const currentWhatsappNumber = siteContent.whatsappNumber || whatsappNumber;
            
            let message = `Hello! I'd like to place an order from ${siteContent.siteName || 'Varnika Jewellers'}:\n\n`;
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                message += `${item.name}\n`;
                message += `Carat: ${item.carat}\n`;
                message += `Weight: ${item.weight}g\n`;
                message += `Quantity: ${item.quantity}\n`;
                message += `Price: ₹${itemTotal.toLocaleString()}\n\n`;
            });
            
            message += `Total Amount: ₹${total.toLocaleString()}\n\n`;
            message += "Please confirm the order and provide delivery details. Thank you!";
            
            const whatsappUrl = `https://wa.me/${currentWhatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Admin rate update
        document.getElementById('rateForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const newGold24 = parseFloat(document.getElementById('newGold24').value);
            const newSilver = parseFloat(document.getElementById('newSilver').value);
            
            const now = new Date();
            const timestamp = now.getFullYear() + "-" + 
                String(now.getMonth() + 1).padStart(2, "0") + "-" + 
                String(now.getDate()).padStart(2, "0") + " " +
                String(now.getHours()).padStart(2, "0") + ":" + 
                String(now.getMinutes()).padStart(2, "0") + ":" + 
                String(now.getSeconds()).padStart(2, "0");
            
            const ratesRef = window.dbRef(window.db, "rates");
            window.dbUpdate(ratesRef, {
                gold: newGold24,
                silver: newSilver,
                last_updated: timestamp
            }).then(() => {
                alert('Rates updated successfully!');
                document.getElementById('rateForm').reset();
            }).catch(err => {
                alert('Error updating rates: ' + err);
            });
        });

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            showPage('home');
        });
    
// Sync rates display in separate rates bar
function syncRatesBar() {
    document.getElementById("goldRate24KBar").innerText = document.getElementById("goldRate24K").innerText;
    document.getElementById("goldRate22KBar").innerText = document.getElementById("goldRate22K").innerText;
    document.getElementById("goldRate18KBar").innerText = document.getElementById("goldRate18K").innerText;
    document.getElementById("silverRateBar").innerText = document.getElementById("silverRate").innerText;
}
// Run sync every 1s to keep updated
setInterval(syncRatesBar, 1000);

</script>
</body>
</html>
